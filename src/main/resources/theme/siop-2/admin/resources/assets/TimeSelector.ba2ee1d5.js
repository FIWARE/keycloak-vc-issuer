import{u as $,r as n,h as j,a$ as D,j as a,b0 as T,ac as O}from"./index.2ecf13ca.js";import{S as V,b as F,a as U}from"./Select.5d6f6214.js";const o=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],y=t=>o.reduce((i,l)=>t%l.multiplier===0&&i.multiplier<l.multiplier?l:i,o[0]),E=(t,i)=>{const l=y(t);return new Intl.NumberFormat(i,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(t/l.multiplier)},G=({value:t,units:i=["second","minute","hour","day"],onChange:l,className:r,min:g,menuAppendTo:I,...p})=>{const{t:c}=$("common"),M=n.exports.useMemo(()=>i.map(e=>o.find(s=>s.unit===e)),[i]),d=n.exports.useMemo(()=>o.find(e=>e.unit===i[0])?.multiplier,[i]),[b,u]=n.exports.useState(""),[f,m]=n.exports.useState(d),[S,h]=n.exports.useState(!1);n.exports.useEffect(()=>{const e=y(t).multiplier;t?(m(e),u(t/e)):(u(t),m(d))},[t]);const x=(e,s=f)=>{e!==""?(l(e*(s||1)),u(e)):l("")};return j(D,{hasGutter:!0,className:r,children:[a(T,{children:a(O,{...p,type:"number","aria-label":"kc-time",min:g||0,value:b,className:`${r}-input`,onChange:e=>{x(e===""?e:parseInt(e))}})}),a(T,{id:`${r}-select-menu`,children:a(V,{variant:F.single,"aria-label":c("unitLabel"),className:`${r}-select`,onSelect:(e,s)=>{m(s),x(b,s),h(!1)},menuAppendTo:I,selections:[f],onToggle:()=>{h(!S)},isOpen:S,isDisabled:p.isDisabled,children:M.map(e=>a(U,{id:e.label,value:e.multiplier,children:c(e.label)},e.label))})})]})};export{G as T,E as t};
//# sourceMappingURL=TimeSelector.ba2ee1d5.js.map
