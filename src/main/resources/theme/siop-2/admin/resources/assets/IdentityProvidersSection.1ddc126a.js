import{_ as $,j as e,bk as _,h as d,p as T,b as X,i as Z,c as J,cA as Q,ab as p,m as w,u as B,az as H,aA as j,r as g,q as M,ad as E,T as L,b7 as P,g as W,l as Y,ax as ee,aZ as te,aX as ae,aN as re,F as k,b1 as se,P as ne,a$ as oe,b0 as A,am as ie,aG as ce,bD as le,b3 as G,cx as de,ah as me,cB as F,ao as he}from"./index.2ecf13ca.js";import{V as ge}from"./ViewHeader.67577dd4.js";import{K as pe}from"./KeycloakDataTable.5c9a6c7c.js";import{u as ue}from"./ConfirmDialog.b43fd344.js";import{M as fe,a as ve}from"./Modal.2c72168d.js";import{T as V,a as N}from"./Text.441b2f8e.js";import{e as be,D as ye,a as Ce,b as Ie,c as Oe,d as De}from"./DataListItemRow.7402b99a.js";import{D as we}from"./DataListControl.bf7cb342.js";import{G as Pe,C as ze}from"./ClickableCard.c6cf529b.js";import{C as xe}from"./CardTitle.ab8f9378.js";import{c as K}from"./HelpItem.49be9c4e.js";import"./ListEmptyState.94d606ed.js";import"./TableToolbar.f167c244.js";import"./FormGroup.24d2e56a.js";import"./EmptyStateSecondaryActions.3ed74a6a.js";import"./EmptyStateBody.25bf6e38.js";import"./plus-circle-icon.f1969120.js";import"./Td.ff2a9f66.js";import"./star-icon.648ddb2a.js";import"./check.51c67984.js";import"./grip-vertical-icon.6efe1939.js";import"./Checkbox.56efba4a.js";import"./data-list.f7ff2ea7.js";import"./Card.3271e4cd.js";const U=a=>{var{children:t=null,className:s="",label:o=""}=a,i=$(a,["children","className","label"]);return e(_.Consumer,{children:({sectionClass:m,sectionTitleClass:c,sectionComponent:u})=>d(u,{...Object.assign({className:T(m,s)},i),children:[o&&e("h1",{className:T(c),"aria-hidden":!0,children:o}),e("ul",{role:"none",children:t})]})})};U.displayName="DropdownGroup";function Se(a,t,s,o){for(var i=-1,m=a==null?0:a.length;++i<m;){var c=a[i];t(o,c,s(c),a)}return o}function ke(a,t,s,o){return X(a,function(i,m,c){t(o,i,s(i),c)}),o}function Me(a,t){return function(s,o){var i=Z(s)?Se:ke,m=t?t():{};return i(s,a,J(o),m)}}var Le=Object.prototype,Ve=Le.hasOwnProperty,Te=Me(function(a,t,s){Ve.call(a,s)?a[s].push(t):Q(a,s,[t])});const Ae=Te,Ge={name:"CubeIcon",height:512,width:512,svgPath:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z",yOffset:0,xOffset:0},Fe=p(Ge),Ne={name:"FacebookSquareIcon",height:512,width:448,svgPath:"M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z",yOffset:0,xOffset:0},Ke=p(Ne),Be={name:"GithubIcon",height:512,width:496,svgPath:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z",yOffset:0,xOffset:0},He=p(Be),je={name:"GitlabIcon",height:512,width:512,svgPath:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z",yOffset:0,xOffset:0},Ee=p(je),Ue={name:"GoogleIcon",height:512,width:488,svgPath:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z",yOffset:0,xOffset:0},Re=p(Ue),qe={name:"LinkedinIcon",height:512,width:448,svgPath:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z",yOffset:0,xOffset:0},$e=p(qe),_e={name:"OpenshiftIcon",height:100,width:100,svgPath:"M145.7,45.3l-16.1,5.8c0.2,2.6,0.6,5.1,1.3,7.6l15.3-5.6C145.7,50.6,145.5,47.9,145.7,45.3M216.7,27.5c-1.1-2.3-2.4-4.5-3.9-6.6l-16.1,5.8c1.9,1.9,3.4,4.1,4.7,6.4L216.7,27.5zM181.4,23c3.3,1.6,6.2,3.7,8.7,6.2l16.1-5.8c-4.4-6.2-10.5-11.5-17.9-14.9c-22.9-10.7-50.3-0.7-61,22.2c-3.5,7.4-4.8,15.3-4.1,23l16.1-5.8c0.3-3.5,1.1-7,2.7-10.3C148.7,22.5,166.4,16,181.4,23M131.9,58.4l-15.3,5.6c1.4,5.6,3.8,10.8,7.2,15.5l16-5.8C135.8,69.4,133,64.1,131.9,58.4M198.5,52.3c-0.3,3.5-1.1,7-2.7,10.3C188.8,77.5,171,84,156.1,77c-3.3-1.6-6.3-3.7-8.7-6.2l-16,5.8c4.4,6.2,10.5,11.5,17.9,14.9c22.9,10.7,50.3,0.7,61-22.2c3.5-7.4,4.7-15.3,4.1-22.9L198.5,52.3zM202.4,32.7l-15.3,5.6c2.8,5.1,4.2,10.9,3.7,16.8l16-5.8C206.5,43.5,204.9,37.9,202.4,32.7",yOffset:0,xOffset:116},Xe=p(_e),Ze={name:"StackOverflowIcon",height:512,width:384,svgPath:"M290.7 311L95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 300zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-200v39.7h200zm39.7 80H42.7V320h-40v160h359.5V320h-40z",yOffset:0,xOffset:0},Je=p(Ze),Qe={name:"TwitterIcon",height:512,width:512,svgPath:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z",yOffset:0,xOffset:0},We=p(Qe),Ye=({icon:a})=>{const t={style:{height:"2em",width:"2em"}};switch(a){case"bitbucket":return e("img",{src:w.resourceUrl+"/bitbucket-brands.svg",...t});case"microsoft":return e("img",{src:w.resourceUrl+"/microsoft-brands.svg",...t});case"instagram":return e("img",{src:w.resourceUrl+"/instagram-brands.svg",...t});case"paypal":return e("img",{src:w.resourceUrl+"/paypal-brands.svg",...t});default:return null}},et=({provider:a})=>{const t={size:"lg"};switch(a.id){case"github":return e(He,{...t});case"facebook":return e(Ke,{...t});case"gitlab":return e(Ee,{...t});case"google":return e(Re,{...t});case"linkedin":return e($e,{...t});case"openshift-v3":case"openshift-v4":return e(Xe,{...t});case"stackoverflow":return e(Je,{...t});case"twitter":return e(We,{...t});case"microsoft":case"bitbucket":case"instagram":case"paypal":return e(Ye,{icon:a.id});default:return e(Fe,{...t})}},tt=({providers:a,onClose:t})=>{const{t:s}=B("identity-providers"),{adminClient:o}=H(),{addAlert:i,addError:m}=j(),[c,u]=g.exports.useState(""),[C,f]=g.exports.useState(""),[b,h]=g.exports.useState(a.map(n=>n.alias)),I=n=>{u(n),f(s("common:onDragStart",{item:n}))},y=()=>{f(s("common:onDragMove",{item:c}))},z=()=>{f(s("common:onDragCancel"))},O=n=>{f(s("common:onDragFinish",{list:n})),h(n)};return d(fe,{variant:ve.small,title:s("manageDisplayOrder"),isOpen:!0,onClose:t,actions:[e(M,{id:"modal-confirm","data-testid":"confirm",onClick:async()=>{const n=b.map((v,x)=>{const D=a.find(S=>S.alias===v);return D.config.guiOrder=x,o.identityProviders.update({alias:v},D)});try{await Promise.all(n),i(s("orderChangeSuccess"))}catch(v){m("identity-providers:orderChangeError",v)}t()},children:s("common:save")},"confirm"),e(M,{id:"modal-cancel","data-testid":"cancel",variant:E.link,onClick:t,children:s("common:cancel")},"cancel")],children:[e(L,{className:"pf-u-pb-lg",children:e(V,{children:s("orderDialogIntro")})}),e(be,{"aria-label":s("manageOrderTableAria"),"data-testid":"manageOrderDataList",isCompact:!0,onDragFinish:O,onDragStart:I,onDragMove:y,onDragCancel:z,itemOrder:b,children:P(a,"config.guiOrder","alias").map(n=>e(ye,{"aria-label":n.alias,id:n.alias,children:d(Ce,{children:[e(we,{children:e(Ie,{"aria-label":s("common-help:dragHelp")})}),e(Oe,{dataListCells:[e(De,{"data-testid":n.alias,children:n.alias},n.alias)]})]})},n.alias))}),e("div",{className:"pf-screen-reader","aria-live":"assertive",children:C})]})};function zt(){const{t:a}=B("identity-providers"),t=Ae(W().identityProviders,"groupName"),{realm:s}=Y(),o=ee(),[i,m]=g.exports.useState(0),c=()=>m(i+1),[u,C]=g.exports.useState(!1),[f,b]=g.exports.useState(!1),[h,I]=g.exports.useState(),[y,z]=g.exports.useState(),{adminClient:O}=H(),{addAlert:n,addError:v}=j();te(async()=>{const r=await O.realms.findOne({realm:s});if(!r)throw new Error(a("common:notFound"));return r.identityProviders},r=>{I(P(r,["config.guiOrder","alias"]))},[i]);const x=r=>d(G,{to:de({realm:s,providerId:r.providerId,alias:r.alias,tab:"settings"}),children:[r.displayName||r.alias,!r.enabled&&e(me,{isRead:!0,className:"pf-u-ml-sm",children:a("common:disabled")},`${r.providerId}-disabled`)]},r.providerId),D=r=>o(F({realm:s,providerId:r})),S=()=>Object.keys(t).map(r=>e(U,{label:r,children:P(t[r],"name").map(l=>e(he,{value:l.id,component:e(G,{to:F({realm:s,providerId:l.id}),"data-testid":l.id,children:l.name})},l.id))},r)),[R,q]=ue({titleKey:"identity-providers:deleteProvider",messageKey:a("deleteConfirm",{provider:y?.alias}),continueButtonLabel:"common:delete",continueButtonVariant:E.danger,onConfirm:async()=>{try{await O.identityProviders.del({alias:y.alias}),I([...h.filter(r=>r.alias!==y?.alias)]),c(),n(a("deletedSuccess"),ae.success)}catch(r){v("identity-providers:deleteError",r)}}});return h?d(k,{children:[e(q,{}),f&&e(tt,{onClose:()=>{b(!1),c()},providers:h.filter(r=>r.enabled)}),e(ge,{titleKey:"common:identityProviders",subKey:"identity-providers:listExplain",helpUrl:se.identityProvidersUrl}),d(ne,{variant:h.length===0?"default":"light",className:h.length===0?"":"pf-u-p-0",children:[h.length===0&&d(k,{children:[e(L,{children:e(V,{component:N.p,children:a("getStarted")})}),Object.keys(t).map(r=>d(g.exports.Fragment,{children:[e(L,{children:d(V,{className:"pf-u-mt-lg",component:N.h2,children:[r,":"]})}),e("hr",{className:"pf-u-mb-lg"}),e(Pe,{hasGutter:!0,children:P(t[r],"name").map(l=>e(ze,{"data-testid":`${l.id}-card`,onClick:()=>D(l.id),children:e(xe,{children:d(oe,{hasGutter:!0,children:[e(A,{children:e(et,{provider:l})}),e(A,{isFilled:!0,children:l.name})]})})},l.id))})]},r))]}),h.length!==0&&e(pe,{loader:h,ariaLabelKey:"common:identityProviders",searchPlaceholderKey:"identity-providers:searchForProvider",toolbarItem:d(k,{children:[e(K,{children:e(ie,{"data-testid":"addProviderDropdown",toggle:e(ce,{onToggle:()=>C(!u),isPrimary:!0,children:a("addProvider")}),isOpen:u,dropdownItems:S()})}),e(K,{children:e(M,{"data-testid":"manageDisplayOrder",variant:"link",onClick:()=>b(!0),children:a("manageDisplayOrder")})})]}),actions:[{title:a("common:delete"),onRowClick:r=>{z(r),R()}}],columns:[{name:"alias",displayKey:"common:name",cellRenderer:x},{name:"providerId",displayKey:"identity-providers:providerDetails",cellFormatters:[le()]}]})]})]}):e(re,{})}export{zt as default};
//# sourceMappingURL=IdentityProvidersSection.1ddc126a.js.map
