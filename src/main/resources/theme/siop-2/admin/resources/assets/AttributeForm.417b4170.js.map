{"version":3,"file":"AttributeForm.417b4170.js","sources":["../../src/components/key-value-form/AttributeForm.tsx"],"sourcesContent":["import type RoleRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/roleRepresentation\";\nimport { ActionGroup, Button } from \"@patternfly/react-core\";\nimport { FormProvider, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../form-access/FormAccess\";\nimport type { KeyValueType } from \"./key-value-convert\";\nimport { KeyValueInput } from \"./KeyValueInput\";\n\nexport type AttributeForm = Omit<RoleRepresentation, \"attributes\"> & {\n  attributes?: KeyValueType[];\n};\n\nexport type AttributesFormProps = {\n  form: UseFormReturn<AttributeForm>;\n  save?: (model: AttributeForm) => void;\n  reset?: () => void;\n  fineGrainedAccess?: boolean;\n};\n\nexport const AttributesForm = ({\n  form,\n  reset,\n  save,\n  fineGrainedAccess,\n}: AttributesFormProps) => {\n  const { t } = useTranslation(\"roles\");\n  const noSaveCancelButtons = !save && !reset;\n  const {\n    formState: { isDirty },\n    handleSubmit,\n  } = form;\n\n  return (\n    <FormAccess\n      role=\"manage-realm\"\n      onSubmit={save ? handleSubmit(save) : undefined}\n      fineGrainedAccess={fineGrainedAccess}\n    >\n      <FormProvider {...form}>\n        <KeyValueInput name=\"attributes\" />\n      </FormProvider>\n      {!noSaveCancelButtons && (\n        <ActionGroup className=\"kc-attributes__action-group\">\n          <Button\n            data-testid=\"save-attributes\"\n            variant=\"primary\"\n            type=\"submit\"\n            isDisabled={!isDirty}\n          >\n            {t(\"common:save\")}\n          </Button>\n          <Button onClick={reset} variant=\"link\" isDisabled={!isDirty}>\n            {t(\"common:revert\")}\n          </Button>\n        </ActionGroup>\n      )}\n    </FormAccess>\n  );\n};\n"],"names":["AttributesForm","form","reset","save","fineGrainedAccess","t","useTranslation","noSaveCancelButtons","formState","isDirty","handleSubmit","FormAccess","undefined","_jsx","FormProvider","KeyValueInput","ActionGroup","Button"],"mappings":"kPAoBO,MAAMA,EAAiB,CAAC,CAC7BC,KAAAA,EACAC,MAAAA,EACAC,KAAAA,EACAC,kBAAAA,CACmB,IAAM,CACnB,KAAA,CAAEC,EAAAA,CAAAA,EAAMC,EAAe,OAAO,EAC9BC,EAAsB,CAACJ,GAAQ,CAACD,EAChC,CACJM,UAAW,CAAEC,QAAAA,CAAQ,EACrBC,aAAAA,CACET,EAAAA,EAEJ,SACGU,EAAU,CACT,KAAK,eACL,SAAUR,EAAOO,EAAaP,CAAI,EAAIS,OACtC,kBAAAR,EAAqC,SAAA,CAErCS,EAACC,EAAY,CAAA,GAAKb,EAAI,WACnBc,EAAa,CAAC,KAAK,YAAA,CAAY,CAAG,CAAA,EAEpC,CAACR,KACCS,EAAW,CAAC,UAAU,8BAA6B,SAAA,CAClDH,EAACI,EAAM,CACL,cAAY,kBACZ,QAAQ,UACR,KAAK,SACL,WAAY,CAACR,EAAQ,SAEpBJ,EAAE,aAAa,CAAA,CACT,EACTQ,EAACI,EAAM,CAAC,QAASf,EAAO,QAAQ,OAAO,WAAY,CAACO,EAAQ,SACzDJ,EAAE,eAAe,CAAA,CACX,CAAA,CAAA,CAEZ,CAAA,CAAA,CACU,CAEjB"}