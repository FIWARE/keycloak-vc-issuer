import{b as q,i as $,a as J,c as Q,d as W,e as X,f as Y,u as S,g as H,r as b,j as e,P as v,h as a,k as Z,l as O,F as z,B as ee,m as V,K as re,T as ie,t as j,n as ae,L as f}from"./index.7cbfb18a.js";import{T as w,H as C}from"./HelpItem.719382e8.js";import{u as ne}from"./useLocaleSort.b8a659bb.js";import{R as se,u as te}from"./RoutableTabs.58e36a71.js";import{T as oe}from"./TableToolbar.51ae2a5f.js";import{i as le,T as N,a as de,b as y,c as _,d as G,e as I}from"./Td.1e0c90e7.js";import{E as ce}from"./ExpandableSection.0b0d95f4.js";import{E as he,a as me}from"./EmptyStateBody.1533f3a6.js";import{T as pe}from"./Trans.a8d0351e.js";import{T as M,a as k}from"./Tabs.fae3d04f.js";import{G as ue,a as R}from"./GridItem.63e5e367.js";import{C as B}from"./Card.37028a42.js";import{C as L}from"./CardTitle.d8222cf8.js";import{C as D}from"./CardBody.4fff68f7.js";import{D as E,a as g,b as h,c as m}from"./DescriptionListTerm.d74f6911.js";import{L as P,a as U,b as K}from"./ListItem.7bf862e4.js";import{T as A}from"./Text.28ece842.js";import"./FormGroup.60c77f60.js";import"./star-icon.a6efdd26.js";import"./check.51c67984.js";import"./grip-vertical-icon.7e109111.js";import"./Checkbox.7d63c785.js";import"./plus-icon.f70ae4c8.js";import"./MenuList.22670a64.js";function fe(r,s){var n=[];return q(r,function(c,l,d){s(c,l,d)&&n.push(c)}),n}function be(r,s){var n=$(r)?J:fe;return n(r,Q(s))}var ve=W(function(r){return X(Y(r,1,le,!0))});const Te=ve,Fe=()=>{const{t:r}=S("dashboard"),s=H(),[n,c]=b.exports.useState(""),[l,d]=b.exports.useState([]),u=b.exports.useMemo(()=>Object.entries(s.providers||[]).filter(([t])=>t.includes(n)),[n]),x=t=>{l.includes(t)?d(l.filter(p=>p!==t)):d([...l,t])};return e(v,{variant:"light",children:e(oe,{inputGroupName:"search",inputGroupPlaceholder:r("common:search"),inputGroupOnEnter:c,children:a(N,{variant:"compact",children:[e(de,{children:a(y,{children:[e(_,{width:20,children:r("spi")}),e(_,{children:r("providers")})]})}),e(G,{children:u.map(([t,{providers:p}])=>a(y,{children:[e(I,{children:t}),a(I,{children:[e("ul",{children:Object.entries(p).map(([o])=>e("li",{children:o},o))}),Object.entries(p).map(([o,{operationalInfo:T}])=>T?e(ce,{isExpanded:l.includes(o),onToggle:()=>x(o),toggleText:l.includes(o)?r("showLess"):r("showMore"),children:e(N,{borders:!1,children:e(G,{children:Object.entries(T).map(([F,i])=>a(y,{children:[e(I,{children:F}),e(I,{children:i})]},F))})})},o):null).filter(Z)]})]},t))})]})})})};const Ie=()=>{const{t:r}=S("dashboard"),{realm:s}=O();return e(v,{variant:"light",children:a(he,{variant:"large",children:[e(ee,{src:V.resourceUrl+"/icon.svg",alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(w,{headingLevel:"h4",size:"3xl",children:r("welcome")}),e(w,{headingLevel:"h4",size:"4xl",children:s}),e(me,{children:r("introduction")})]})})},ge=()=>{const{t:r}=S("dashboard"),{realm:s}=O(),n=H(),c=ne(),l=i=>t.includes(i),d=i=>n.profileInfo?.experimentalFeatures?.includes(i),u=i=>n.profileInfo?.previewFeatures?.includes(i),x=i=>!d(i)&&!u(i),t=b.exports.useMemo(()=>c(n.profileInfo?.disabledFeatures??[],i=>i),[n.profileInfo]),p=b.exports.useMemo(()=>c(be(Te(n.profileInfo?.experimentalFeatures,n.profileInfo?.previewFeatures),i=>!l(i)),i=>i),[n.profileInfo]),o=i=>te(j({realm:s,tab:i})),T=o("info"),F=o("providers");return Object.keys(n).length===0?e(re,{}):a(z,{children:[e(v,{variant:"light",children:a(ie,{className:"pf-u-mr-sm",children:[e(A,{component:"h1",children:r("realmName",{name:s})}),e(A,{children:a(pe,{t:r,i18nKey:"adminUiVersion",children:[e("strong",{children:"Admin UI version"}),{version:V.commitHash}]})})]})}),e(v,{variant:"light",className:"pf-u-p-0",children:a(se,{"data-testid":"dashboard-tabs",defaultLocation:j({realm:s,tab:"info"}),isBox:!0,mountOnEnter:!0,children:[e(M,{id:"info","data-testid":"infoTab",title:e(k,{children:r("serverInfo")}),...T,children:e(v,{variant:"light",children:a(ue,{hasGutter:!0,children:[e(R,{lg:2,sm:12,children:a(B,{className:"keycloak__dashboard_card",children:[e(L,{children:r("serverInfo")}),e(D,{children:e(E,{children:a(g,{children:[e(h,{children:r("version")}),e(m,{children:n.systemInfo?.version}),e(h,{children:r("product")}),e(m,{children:ae(n.profileInfo?.name)})]})})}),e(L,{children:r("memory")}),e(D,{children:e(E,{children:a(g,{children:[e(h,{children:r("totalMemory")}),e(m,{children:n.memoryInfo?.totalFormated}),e(h,{children:r("freeMemory")}),e(m,{children:n.memoryInfo?.freeFormated}),e(h,{children:r("usedMemory")}),e(m,{children:n.memoryInfo?.usedFormated})]})})})]})}),e(R,{lg:10,sm:12,children:a(B,{className:"keycloak__dashboard_card",children:[e(L,{children:r("profile")}),e(D,{children:a(E,{children:[a(g,{children:[a(h,{children:[r("enabledFeatures")," ",e(C,{fieldLabelId:"dashboard:enabledFeatures",helpText:"dashboard:infoEnabledFeatures"})]}),e(m,{children:e(P,{variant:U.inline,children:p.map(i=>a(K,{className:"pf-u-mb-sm",children:[i," ",d(i)?e(f,{color:"orange",children:r("experimental")}):null,u(i)?e(f,{color:"blue",children:r("preview")}):null]},i))})})]}),a(g,{children:[a(h,{children:[r("disabledFeatures")," ",e(C,{fieldLabelId:"dashboard:disabledFeatures",helpText:"dashboard:infoDisabledFeatures"})]}),e(m,{children:e(P,{variant:U.inline,children:t.map(i=>a(K,{className:"pf-u-mb-sm",children:[i," ",d(i)?e(f,{color:"orange",children:r("experimental")}):null,u(i)?e(f,{color:"blue",children:r("preview")}):null,x(i)?e(f,{color:"green",children:r("supported")}):null]},i))})})]})]})})]})})]})})}),e(M,{id:"providers","data-testid":"providersTab",title:e(k,{children:r("providerInfo")}),...F,children:e(Fe,{})})]})})]})};function qe(){const{realm:r}=O(),s=r==="master";return a(z,{children:[!s&&e(Ie,{}),s&&e(ge,{})]})}export{qe as default};
//# sourceMappingURL=Dashboard.ec21cbc5.js.map
