import{u as v,r as y,h as o,F as k,j as e,q as f}from"./index.7cbfb18a.js";import{a as w,c as $,b as F}from"./index.esm.1e7ace95.js";import{K as m}from"./KeycloakTextInput.9afb01cd.js";import{F as d,a as l}from"./FlexItem.ae9c1d3c.js";import{M as A}from"./minus-circle-icon.c093f419.js";import{A as b,a as I}from"./ActionListItem.65cb5d9a.js";import{P as C}from"./plus-circle-icon.aa8a939a.js";const L=({name:a})=>{const{t}=v("common"),{control:n,register:u}=w(),{fields:s,append:h,remove:p}=$({control:n,name:a}),i=F({control:n,name:a,defaultValue:[{key:"",value:""}]}),g=Array.isArray(i)&&i.every(({key:c,value:r})=>c?.trim().length!==0&&r?.trim().length!==0);return y.exports.useEffect(()=>{s.length||h({key:"",value:""},{shouldFocus:!1})},[s]),o(k,{children:[o(d,{direction:{default:"column"},children:[o(d,{children:[e(l,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e("strong",{children:t("key")})}),e(l,{grow:{default:"grow"},children:e("strong",{children:t("value")})})]}),s.map((c,r)=>o(d,{"data-testid":"row",children:[e(l,{grow:{default:"grow"},children:e(m,{placeholder:t("keyPlaceholder"),"aria-label":t("key"),defaultValue:"","data-testid":`${a}[${r}].key`,...u(`${a}[${r}].key`)})}),e(l,{grow:{default:"grow"},spacer:{default:"spacerNone"},children:e(m,{placeholder:t("valuePlaceholder"),"aria-label":t("value"),defaultValue:"","data-testid":`${a}[${r}].value`,...u(`${a}[${r}].value`)})}),e(l,{children:e(f,{variant:"link",title:t("removeAttribute"),isDisabled:i.length===1,onClick:()=>p(r),"data-testid":`${a}[${r}].remove`,children:e(A,{})})})]},c.id))]}),e(b,{children:e(I,{children:e(f,{"data-testid":`${a}-add-row`,className:"pf-u-px-0 pf-u-mt-sm",variant:"link",icon:e(C,{}),isDisabled:!g,onClick:()=>h({key:"",value:""}),children:t("addAttribute")})})})]})};export{L as K};
//# sourceMappingURL=KeyValueInput.21e1d12c.js.map
