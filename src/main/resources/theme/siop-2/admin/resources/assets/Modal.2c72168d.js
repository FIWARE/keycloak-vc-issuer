import{_ as h,j as s,p as n,q as oe,s as se,h as I,F as ie,r as T,aP as te,at as re,aQ as ne,a3 as de,aR as ce,aS as pe,aT as be,aU as me,aV as he,O as ue,w as fe,z as ye,N as xe,M as ge,aW as Ie}from"./index.2ecf13ca.js";const x={backdrop:"pf-c-backdrop",backdropOpen:"pf-c-backdrop__open"};const Ne={bullseye:"pf-l-bullseye"},W=e=>{var{children:a=null,className:l=""}=e,o=h(e,["children","className"]);return s("div",{...Object.assign({},o,{className:n(x.backdrop,l)}),children:a})};W.displayName="Backdrop";const b={button:"pf-c-button",modalBox:"pf-c-modal-box",modalBoxBody:"pf-c-modal-box__body",modalBoxDescription:"pf-c-modal-box__description",modalBoxFooter:"pf-c-modal-box__footer",modalBoxHeader:"pf-c-modal-box__header",modalBoxHeaderMain:"pf-c-modal-box__header-main",modalBoxTitle:"pf-c-modal-box__title",modalBoxTitleIcon:"pf-c-modal-box__title-icon",modalBoxTitleText:"pf-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",default:"pf-m-default",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-theme-dark"},V=e=>{var{children:a=null,className:l=""}=e,o=h(e,["children","className"]);return s("div",{...Object.assign({},o,{className:n(b.modalBoxBody,l)}),children:a})};V.displayName="ModalBoxBody";const M=e=>{var{className:a="",onClose:l=()=>{},ouiaId:o}=e,i=h(e,["className","onClose","ouiaId"]);return s(oe,{...Object.assign({className:a,variant:"plain",onClick:l,"aria-label":"Close"},o&&{ouiaId:`${o}-${M.displayName}`},i),children:s(se,{})})};M.displayName="ModalBoxCloseButton";const Be={name:"--pf-c-modal-box--m-align-top--spacer",value:"0.5rem",var:"var(--pf-c-modal-box--m-align-top--spacer)"},ve=Be,H=e=>{var{children:a,className:l="",variant:o="default",position:i,positionOffset:t,"aria-labelledby":p,"aria-label":r="","aria-describedby":d,style:c}=e,m=h(e,["children","className","variant","position","positionOffset","aria-labelledby","aria-label","aria-describedby","style"]);return t&&(c=c||{},c[ve.name]=t),s("div",{...Object.assign({},m,{role:"dialog","aria-label":r||null,"aria-labelledby":p||null,"aria-describedby":d,"aria-modal":"true",className:n(b.modalBox,l,i==="top"&&b.modifiers.alignTop,o==="large"&&b.modifiers.lg,o==="small"&&b.modifiers.sm,o==="medium"&&b.modifiers.md),style:c}),children:a})};H.displayName="ModalBox";const k=e=>{var{children:a=null,className:l=""}=e,o=h(e,["children","className"]);return s("footer",{...Object.assign({},o,{className:n(b.modalBoxFooter,l)}),children:a})};k.displayName="ModalBoxFooter";const P=e=>{var{children:a=null,className:l="",id:o=""}=e,i=h(e,["children","className","id"]);return s("div",{...Object.assign({},i,{id:o,className:n(b.modalBoxDescription,l)}),children:a})};P.displayName="ModalBoxDescription";const E=e=>{var{children:a=null,className:l="",help:o=null}=e,i=h(e,["children","className","help"]);return I("header",{...Object.assign({className:n(b.modalBoxHeader,o&&b.modifiers.help,l)},i),children:[o&&I(ie,{children:[s("div",{className:n(b.modalBoxHeaderMain),children:a}),s("div",{className:"pf-c-modal-box__header-help",children:o})]}),!o&&a]})};E.displayName="ModalBoxHeader";const v=e=>["success","danger","warning","info","default"].includes(e),$=e=>{var{className:a="",id:l,title:o,titleIconVariant:i,titleLabel:t=""}=e,p=h(e,["className","id","title","titleIconVariant","titleLabel"]);const[r,d]=T.exports.useState(!1),c=T.exports.useRef(null),m=t||(v(i)?`${te(i)} alert:`:t),y={success:s(ce,{}),danger:s(pe,{}),warning:s(be,{}),info:s(me,{}),default:s(he,{})},u=!v(i)&&i;re(()=>{d(c.current&&c.current.offsetWidth<c.current.scrollWidth)},[]);const f=I("h1",{...Object.assign({id:l,ref:c,className:n(b.modalBoxTitle,i&&b.modifiers.icon,a)},p),children:[i&&s("span",{className:n(b.modalBoxTitleIcon),children:v(i)?y[i]:s(u,{})}),m&&s("span",{className:n(ne.screenReader),children:m}),s("span",{className:n(b.modalBoxTitleText),children:o})]});return r?s(de,{content:o,children:f}):f};$.displayName="ModalBoxTitle";const S=e=>{var{children:a,className:l="",isOpen:o=!1,header:i=null,help:t=null,description:p=null,title:r="",titleIconVariant:d=null,titleLabel:c="","aria-label":m="","aria-describedby":y,"aria-labelledby":u,bodyAriaLabel:f,bodyAriaRole:O,showClose:N=!0,footer:_=null,actions:A=[],onClose:U=()=>{},variant:K="default",position:z,positionOffset:q,width:j=-1,boxId:L,labelId:D,descriptorId:C,disableFocusTrap:Q=!1,hasNoBodyWrapper:F=!1,ouiaId:R,ouiaSafe:G=!0}=e,J=h(e,["children","className","isOpen","header","help","description","title","titleIconVariant","titleLabel","aria-label","aria-describedby","aria-labelledby","bodyAriaLabel","bodyAriaRole","showClose","footer","actions","onClose","variant","position","positionOffset","width","boxId","labelId","descriptorId","disableFocusTrap","hasNoBodyWrapper","ouiaId","ouiaSafe"]);if(!o)return null;const X=i?s(E,{help:t,children:i}):r&&I(E,{help:t,children:[s($,{title:r,titleIconVariant:d,titleLabel:c,id:D}),p&&s(P,{id:C,children:p})]}),Y=_?s(k,{children:_}):A.length>0&&s(k,{children:A}),Z=F?a:s(V,{...Object.assign({"aria-label":f,role:O||(f?"region":void 0)},J,!p&&!y&&{id:C}),children:a}),ee=j===-1?{}:{width:j},ae=()=>{if(u===null)return null;const B=[];return(m&&L)!==""&&B.push(m&&L),u&&B.push(u),r&&B.push(D),B.join(" ")},le=I(H,{...Object.assign({id:L,style:ee,className:n(l,v(d)&&b.modifiers[d]),variant:K,position:z,positionOffset:q,"aria-label":m,"aria-labelledby":ae(),"aria-describedby":y||(F?null:C)},ue(S.displayName,R,G)),children:[N&&s(M,{onClose:U,ouiaId:R}),X,Z,Y]});return s(W,{children:s(fe,{active:!Q,focusTrapOptions:{clickOutsideDeactivates:!0,tabbableOptions:{displayCheck:"none"}},className:n(Ne.bullseye),children:le})})};S.displayName="ModalContent";var w;(function(e){e.small="small",e.medium="medium",e.large="large",e.default="default"})(w||(w={}));class g extends T.exports.Component{constructor(a){super(a),this.boxId="",this.labelId="",this.descriptorId="",this.handleEscKeyClick=t=>{var p,r;const{onEscapePress:d}=this.props;t.key===ye.Escape&&this.props.isOpen&&(d?d(t):(r=(p=this.props).onClose)===null||r===void 0||r.call(p))},this.getElement=t=>typeof t=="function"?t():t||document.body,this.toggleSiblingsFromScreenReaders=t=>{const{appendTo:p}=this.props,d=this.getElement(p).children;for(const c of Array.from(d))c!==this.state.container&&(t?c.setAttribute("aria-hidden",""+t):c.removeAttribute("aria-hidden"))},this.isEmpty=t=>t==null||t==="";const l=g.currentId++,o=l+1,i=l+2;this.boxId=a.id||`pf-modal-part-${l}`,this.labelId=`pf-modal-part-${o}`,this.descriptorId=`pf-modal-part-${i}`,this.state={container:void 0,ouiaStateId:xe(g.displayName,a.variant)}}componentDidMount(){const{appendTo:a,title:l,"aria-label":o,"aria-labelledby":i,hasNoBodyWrapper:t,header:p}=this.props,r=this.getElement(a),d=document.createElement("div");this.setState({container:d}),r.appendChild(d),r.addEventListener("keydown",this.handleEscKeyClick,!1),this.props.isOpen?r.classList.add(n(x.backdropOpen)):r.classList.remove(n(x.backdropOpen)),this.isEmpty(l)&&this.isEmpty(o)&&this.isEmpty(i)&&console.error("Modal: Specify at least one of: title, aria-label, aria-labelledby."),this.isEmpty(o)&&this.isEmpty(i)&&(t||p)&&console.error("Modal: When using hasNoBodyWrapper or setting a custom header, ensure you assign an accessible name to the the modal container with aria-label or aria-labelledby.")}componentDidUpdate(){const{appendTo:a}=this.props,l=this.getElement(a);this.props.isOpen?(l.classList.add(n(x.backdropOpen)),this.toggleSiblingsFromScreenReaders(!0)):(l.classList.remove(n(x.backdropOpen)),this.toggleSiblingsFromScreenReaders(!1))}componentWillUnmount(){const{appendTo:a}=this.props,l=this.getElement(a);this.state.container&&l.removeChild(this.state.container),l.removeEventListener("keydown",this.handleEscKeyClick,!1),l.classList.remove(n(x.backdropOpen))}render(){const a=this.props,{appendTo:l,onEscapePress:o,"aria-labelledby":i,"aria-label":t,"aria-describedby":p,bodyAriaLabel:r,bodyAriaRole:d,title:c,titleIconVariant:m,titleLabel:y,ouiaId:u,ouiaSafe:f}=a,O=h(a,["appendTo","onEscapePress","aria-labelledby","aria-label","aria-describedby","bodyAriaLabel","bodyAriaRole","title","titleIconVariant","titleLabel","ouiaId","ouiaSafe"]),{container:N}=this.state;return!ge||!N?null:Ie.exports.createPortal(s(S,{...Object.assign({},O,{boxId:this.boxId,labelId:this.labelId,descriptorId:this.descriptorId,title:c,titleIconVariant:m,titleLabel:y,"aria-label":t,"aria-describedby":p,"aria-labelledby":i,bodyAriaLabel:r,bodyAriaRole:d,ouiaId:u!==void 0?u:this.state.ouiaStateId,ouiaSafe:f})}),N)}}g.displayName="Modal";g.currentId=0;g.defaultProps={className:"",isOpen:!1,title:"",titleIconVariant:null,titleLabel:"","aria-label":"",showClose:!0,"aria-describedby":"","aria-labelledby":"",id:void 0,actions:[],onClose:()=>{},variant:"default",hasNoBodyWrapper:!1,appendTo:()=>document.body,ouiaSafe:!0};export{g as M,w as a,Ne as s};
//# sourceMappingURL=Modal.2c72168d.js.map
