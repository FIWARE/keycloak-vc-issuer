import{u as k,l as j,bH as R,r as h,bz as c,aC as w,h as S,j as e,aw as l,aB as x,q as y,b3 as z,bI as B}from"./index.7cbfb18a.js";import{u as D,b as G,C as i}from"./index.esm.1e7ace95.js";import{g as _}from"./utils.988d95db.js";import{a as v,b as E}from"./ClientScopeTypes.f384adfd.js";import{F as W}from"./FormAccess.3a7ea209.js";import{H as a}from"./HelpItem.719382e8.js";import{K as $}from"./KeycloakTextArea.d98120cb.js";import{K as b}from"./KeycloakTextInput.9afb01cd.js";import{a as s,A as J}from"./FormGroup.60c77f60.js";import{S as C,b as O,a as M}from"./Select.fbe867d5.js";const ae=({clientScope:d,save:L})=>{const{t:n}=k("client-scopes"),{t:V}=k("clients"),{register:u,control:r,handleSubmit:F,setValue:q,formState:{errors:p,isDirty:A,isValid:H}}=D({mode:"onChange"}),{realm:K}=j(),f=R(),[N,g]=h.exports.useState(!1),[P,I]=h.exports.useState(!1),T=G({control:r,name:c("attributes.display.on.consent.screen"),defaultValue:d?.attributes?.["display.on.consent.screen"]??"true"});return h.exports.useEffect(()=>{w(d??{},q)},[d]),S(W,{role:"manage-clients",onSubmit:F(L),isHorizontal:!0,children:[e(s,{label:n("common:name"),labelIcon:e(a,{helpText:"client-scopes-help:name",fieldLabelId:"name"}),fieldId:"kc-name",validated:p.name?l.error:l.default,helperTextInvalid:n("common:required"),isRequired:!0,children:e(b,{id:"kc-name",validated:p.name?l.error:l.default,isRequired:!0,...u("name",{required:!0})})}),e(s,{label:n("common:description"),labelIcon:e(a,{helpText:"client-scopes-help:description",fieldLabelId:"description"}),fieldId:"kc-description",validated:p.description?l.error:l.default,helperTextInvalid:n("common:maxLength",{length:255}),children:e(b,{id:"kc-description",validated:p.description?l.error:l.default,...u("description",{maxLength:255})})}),e(s,{label:n("type"),labelIcon:e(a,{helpText:"client-scopes-help:type",fieldLabelId:"client-scopes:type"}),fieldId:"kc-type",children:e(i,{name:"type",defaultValue:v[0],control:r,render:({field:t})=>e(C,{toggleId:"kc-type",variant:O.single,isOpen:P,selections:t.value,onToggle:I,onSelect:(o,m)=>{t.onChange(m),I(!1)},children:E(n,v)})})}),!d&&e(s,{label:n("protocol"),labelIcon:e(a,{helpText:"client-scopes-help:protocol",fieldLabelId:"client-scopes:protocol"}),fieldId:"kc-protocol",children:e(i,{name:"protocol",defaultValue:f[0],control:r,render:({field:t})=>e(C,{toggleId:"kc-protocol",onToggle:g,onSelect:(o,m)=>{t.onChange(m),g(!1)},selections:t.value,variant:O.single,isOpen:N,children:f.map(o=>e(M,{selected:o===t.value,value:o,"data-testid":`option-${o}`,children:_(V,o)},o))})})}),e(s,{hasNoPaddingTop:!0,label:n("displayOnConsentScreen"),labelIcon:e(a,{helpText:"client-scopes-help:displayOnConsentScreen",fieldLabelId:"client-scopes:displayOnConsentScreen"}),fieldId:"kc-display-on-consent-screen",children:e(i,{name:c("attributes.display.on.consent.screen"),control:r,defaultValue:T,render:({field:t})=>e(x,{id:"kc-display-on-consent-screen",label:n("common:on"),labelOff:n("common:off"),isChecked:t.value==="true",onChange:o=>t.onChange(o.toString())})})}),T==="true"&&e(s,{label:n("consentScreenText"),labelIcon:e(a,{helpText:"client-scopes-help:consentScreenText",fieldLabelId:"client-scopes:consentScreenText"}),fieldId:"kc-consent-screen-text",children:e($,{id:"kc-consent-screen-text",...u(c("attributes.consent.screen.text"))})}),e(s,{hasNoPaddingTop:!0,label:n("includeInTokenScope"),labelIcon:e(a,{helpText:"client-scopes-help:includeInTokenScope",fieldLabelId:"client-scopes:includeInTokenScope"}),fieldId:"kc-include-in-token-scope",children:e(i,{name:c("attributes.include.in.token.scope"),control:r,defaultValue:"true",render:({field:t})=>e(x,{id:"kc-include-in-token-scope",label:n("common:on"),labelOff:n("common:off"),isChecked:t.value==="true",onChange:o=>t.onChange(o.toString())})})}),e(s,{label:n("guiOrder"),labelIcon:e(a,{helpText:"client-scopes-help:guiOrder",fieldLabelId:"client-scopes:guiOrder"}),fieldId:"kc-gui-order",children:e(i,{name:c("attributes.gui.order"),defaultValue:"",control:r,render:({field:t})=>e(b,{id:"kc-gui-order",type:"number",value:t.value,min:0,onChange:t.onChange})})}),S(J,{children:[e(y,{variant:"primary",type:"submit",isDisabled:!A||!H,children:n("common:save")}),e(y,{variant:"link",component:t=>e(z,{...t,to:B({realm:K})}),children:n("common:cancel")})]})]})};export{ae as S};
//# sourceMappingURL=ScopeForm.b8398ae2.js.map
