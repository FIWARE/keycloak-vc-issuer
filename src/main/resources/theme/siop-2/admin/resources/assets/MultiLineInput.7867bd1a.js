import{u as k,r as c,j as r,F,h as u,af as x,ac as y,q as f,ad as h}from"./index.2ecf13ca.js";import{a as D,b as T}from"./index.esm.68aaf060.js";import{M as A}from"./minus-circle-icon.e9e185f2.js";import{P as B}from"./plus-circle-icon.f1969120.js";function P(e){return typeof e=="string"?e.split("##"):[]}function $(e){return e.join("##")}const S=({name:e,addButtonLabel:g,isDisabled:b=!1,defaultValue:p,stringify:d=!1,...I})=>{const{t:o}=k(),{register:m,setValue:M,control:v}=D(),n=T({name:e,control:v,defaultValue:p||""}),s=c.exports.useMemo(()=>{let t=d?P(n):n;return t=Array.isArray(t)&&t.length!==0?t:p||[""],t},[n]),C=t=>{l([...s.slice(0,t),...s.slice(t+1)])},V=()=>{l([...s,""])},j=(t,a)=>{l([...s.slice(0,t),a,...s.slice(t+1)])},l=t=>{const a=t.flatMap(i=>i);M(e,d?$(a):a,{shouldDirty:!0})};return c.exports.useEffect(()=>{m(e)},[m]),r(F,{children:s.map((t,a)=>u(c.exports.Fragment,{children:[u(x,{children:[r(y,{"data-testid":e+a,onChange:i=>j(a,i),name:`${e}[${a}].value`,value:t,isDisabled:b,...I}),r(f,{variant:h.link,onClick:()=>C(a),tabIndex:-1,"aria-label":o("common:remove"),isDisabled:s.length===1,children:r(A,{})})]}),a===s.length-1&&u(f,{variant:h.link,onClick:V,tabIndex:-1,"aria-label":o("common:add"),"data-testid":"addValue",isDisabled:!t,children:[r(B,{})," ",o(g||"common:add")]})]},a))})};export{S as M};
//# sourceMappingURL=MultiLineInput.7867bd1a.js.map
