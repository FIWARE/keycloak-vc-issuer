{"version":3,"file":"LoginSettings.09b94b6d.js","sources":["../../src/clients/add/LoginSettings.tsx"],"sourcesContent":["import { FormGroup } from \"@patternfly/react-core\";\nimport { useFormContext } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { HelpItem } from \"../../components/help-enabler/HelpItem\";\nimport { KeycloakTextInput } from \"../../components/keycloak-text-input/KeycloakTextInput\";\nimport { MultiLineInput } from \"../../components/multi-line-input/MultiLineInput\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport environment from \"../../environment\";\nimport { convertAttributeNameToForm } from \"../../util\";\nimport { FormFields } from \"../ClientDetails\";\n\ntype LoginSettingsProps = {\n  protocol?: string;\n};\n\nexport const LoginSettings = ({\n  protocol = \"openid-connect\",\n}: LoginSettingsProps) => {\n  const { t } = useTranslation(\"clients\");\n  const { register, watch } = useFormContext<FormFields>();\n  const { realm } = useRealm();\n\n  const idpInitiatedSsoUrlName: string = watch(\n    \"attributes.saml_idp_initiated_sso_url_name\"\n  );\n  return (\n    <>\n      <FormGroup\n        label={t(\"rootUrl\")}\n        fieldId=\"kc-root-url\"\n        labelIcon={\n          <HelpItem\n            helpText=\"clients-help:rootURL\"\n            fieldLabelId=\"clients:rootUrl\"\n          />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-root-url\"\n          type=\"url\"\n          {...register(\"rootUrl\")}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"homeURL\")}\n        fieldId=\"kc-home-url\"\n        labelIcon={\n          <HelpItem\n            helpText=\"clients-help:homeURL\"\n            fieldLabelId=\"clients:homeURL\"\n          />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-home-url\"\n          type=\"url\"\n          {...register(\"baseUrl\")}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"validRedirectUri\")}\n        fieldId=\"kc-redirect\"\n        labelIcon={\n          <HelpItem\n            helpText=\"clients-help:validRedirectURIs\"\n            fieldLabelId=\"clients:validRedirectUri\"\n          />\n        }\n      >\n        <MultiLineInput\n          id=\"kc-redirect\"\n          name=\"redirectUris\"\n          aria-label={t(\"validRedirectUri\")}\n          addButtonLabel=\"clients:addRedirectUri\"\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"validPostLogoutRedirectUri\")}\n        fieldId=\"kc-postLogoutRedirect\"\n        labelIcon={\n          <HelpItem\n            helpText=\"clients-help:validPostLogoutRedirectURIs\"\n            fieldLabelId=\"clients:validPostLogoutRedirectUri\"\n          />\n        }\n      >\n        <MultiLineInput\n          id=\"kc-postLogoutRedirect\"\n          name={convertAttributeNameToForm(\n            \"attributes.post.logout.redirect.uris\"\n          )}\n          aria-label={t(\"validPostLogoutRedirectUri\")}\n          addButtonLabel=\"clients:addPostLogoutRedirectUri\"\n          stringify\n        />\n      </FormGroup>\n      {protocol === \"saml\" && (\n        <>\n          <FormGroup\n            label={t(\"idpInitiatedSsoUrlName\")}\n            fieldId=\"idpInitiatedSsoUrlName\"\n            labelIcon={\n              <HelpItem\n                helpText=\"clients-help:idpInitiatedSsoUrlName\"\n                fieldLabelId=\"clients:idpInitiatedSsoUrlName\"\n              />\n            }\n            helperText={\n              idpInitiatedSsoUrlName !== \"\" &&\n              t(\"idpInitiatedSsoUrlNameHelp\", {\n                url: `${environment.authServerUrl}/realms/${realm}/protocol/saml/clients/${idpInitiatedSsoUrlName}`,\n              })\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoUrlName\"\n              data-testid=\"idpInitiatedSsoUrlName\"\n              {...register(\"attributes.saml_idp_initiated_sso_url_name\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"idpInitiatedSsoRelayState\")}\n            fieldId=\"idpInitiatedSsoRelayState\"\n            labelIcon={\n              <HelpItem\n                helpText=\"clients-help:idpInitiatedSsoRelayState\"\n                fieldLabelId=\"clients:idpInitiatedSsoRelayState\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoRelayState\"\n              data-testid=\"idpInitiatedSsoRelayState\"\n              {...register(\"attributes.saml_idp_initiated_sso_relay_state\")}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"masterSamlProcessingUrl\")}\n            fieldId=\"masterSamlProcessingUrl\"\n            labelIcon={\n              <HelpItem\n                helpText=\"clients-help:masterSamlProcessingUrl\"\n                fieldLabelId=\"clients:masterSamlProcessingUrl\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"masterSamlProcessingUrl\"\n              type=\"url\"\n              data-testid=\"masterSamlProcessingUrl\"\n              {...register(\"adminUrl\")}\n            />\n          </FormGroup>\n        </>\n      )}\n      {protocol !== \"saml\" && (\n        <FormGroup\n          label={t(\"webOrigins\")}\n          fieldId=\"kc-web-origins\"\n          labelIcon={\n            <HelpItem\n              helpText=\"clients-help:webOrigins\"\n              fieldLabelId=\"clients:webOrigins\"\n            />\n          }\n        >\n          <MultiLineInput\n            id=\"kc-web-origins\"\n            name=\"webOrigins\"\n            aria-label={t(\"webOrigins\")}\n            addButtonLabel=\"clients:addWebOrigins\"\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n};\n"],"names":["LoginSettings","protocol","t","useTranslation","register","watch","useFormContext","realm","useRealm","idpInitiatedSsoUrlName","_Fragment","_jsx","FormGroup","HelpItem","KeycloakTextInput","MultiLineInput","convertAttributeNameToForm","url","environment","authServerUrl"],"mappings":"2TAgBO,MAAMA,EAAgB,CAAC,CAC5BC,SAAAA,EAAW,gBACO,IAAM,CAClB,KAAA,CAAEC,EAAAA,CAAAA,EAAMC,EAAe,SAAS,EAChC,CAAEC,SAAAA,EAAUC,MAAAA,GAAUC,EAA4B,EAClD,CAAEC,MAAAA,GAAUC,EAAU,EAEtBC,EAAiCJ,EACrC,4CAA4C,EAE9C,SACEK,EAAA,CAAA,SAAA,CACEC,EAACC,EAAS,CACR,MAAOV,EAAE,SAAS,EAClB,QAAQ,cACR,YACGW,EAAQ,CACP,SAAS,uBACT,aAAa,iBAAA,CAEhB,EAAA,WAEAC,EAAiB,CAChB,GAAG,cACH,KAAK,MAAK,GACNV,EAAS,SAAS,CAAA,CAAC,CAAA,CAEf,EACZO,EAACC,EAAS,CACR,MAAOV,EAAE,SAAS,EAClB,QAAQ,cACR,YACGW,EAAQ,CACP,SAAS,uBACT,aAAa,iBAAA,CAEhB,EAAA,WAEAC,EAAiB,CAChB,GAAG,cACH,KAAK,MAAK,GACNV,EAAS,SAAS,CAAA,CAAC,CAAA,CAEf,EACZO,EAACC,EAAS,CACR,MAAOV,EAAE,kBAAkB,EAC3B,QAAQ,cACR,YACGW,EAAQ,CACP,SAAS,iCACT,aAAa,0BAAA,CAEhB,EAAA,WAEAE,EAAc,CACb,GAAG,cACH,KAAK,eACL,aAAYb,EAAE,kBAAkB,EAChC,eAAe,wBAAA,CAAwB,CAAA,CAE/B,EACZS,EAACC,EAAS,CACR,MAAOV,EAAE,4BAA4B,EACrC,QAAQ,wBACR,YACGW,EAAQ,CACP,SAAS,2CACT,aAAa,oCAAA,CAEhB,EAAA,WAEAE,EAAc,CACb,GAAG,wBACH,KAAMC,EACJ,sCAAsC,EAExC,aAAYd,EAAE,4BAA4B,EAC1C,eAAe,mCACf,UAAS,EAAA,CAAA,CACT,CAAA,EAEHD,IAAa,UACZS,EAAA,CAAA,SAAA,CACEC,EAACC,EAAS,CACR,MAAOV,EAAE,wBAAwB,EACjC,QAAQ,yBACR,YACGW,EAAQ,CACP,SAAS,sCACT,aAAa,gCAAA,CAEhB,EACD,WACEJ,IAA2B,IAC3BP,EAAE,6BAA8B,CAC9Be,IAAM,GAAEC,EAAYC,wBAAwBZ,2BAA+BE,GAAAA,CAC5E,EACF,WAEAK,EAAiB,CAChB,GAAG,yBACH,cAAY,yBAAwB,GAChCV,EAAS,4CAA4C,CAAA,CAAC,CAAA,CAElD,EACZO,EAACC,EAAS,CACR,MAAOV,EAAE,2BAA2B,EACpC,QAAQ,4BACR,YACGW,EAAQ,CACP,SAAS,yCACT,aAAa,mCAAA,CAEhB,EAAA,WAEAC,EAAiB,CAChB,GAAG,4BACH,cAAY,4BAA2B,GACnCV,EAAS,+CAA+C,CAAA,CAAC,CAAA,CAErD,EACZO,EAACC,EAAS,CACR,MAAOV,EAAE,yBAAyB,EAClC,QAAQ,0BACR,YACGW,EAAQ,CACP,SAAS,uCACT,aAAa,iCAAA,CAEhB,EAAA,WAEAC,EAAiB,CAChB,GAAG,0BACH,KAAK,MACL,cAAY,0BAAyB,GACjCV,EAAS,UAAU,CAAA,CAAC,CAAA,CAEhB,CAAA,CAAA,CAAA,EAGfH,IAAa,UACXW,EAAS,CACR,MAAOV,EAAE,YAAY,EACrB,QAAQ,iBACR,YACGW,EAAQ,CACP,SAAS,0BACT,aAAa,oBAAA,CAEhB,EAAA,WAEAE,EAAc,CACb,GAAG,iBACH,KAAK,aACL,aAAYb,EAAE,YAAY,EAC1B,eAAe,uBAAA,CAAuB,CAAA,CAG3C,CAAA,CAAA,CACA,CAEP"}