import{u as I,l as k,ax as v,by as H,r as g,h as d,F as A,j as e,P as G,T as P,q as h,b3 as D,cT as y}from"./index.2ecf13ca.js";import{u as j,F as K}from"./index.esm.68aaf060.js";import{F as S}from"./FormAccess.7ed5d8eb.js";import{H as c}from"./HelpItem.49be9c4e.js";import{K as q}from"./KeyValueInput.8d334a75.js";import{K as p}from"./KeycloakTextInput.97e36976.js";import{V as L}from"./ViewHeader.67577dd4.js";import{u as O,U}from"./UserProfileContext.1a5ea02c.js";/* empty css                               */import{a as m,A as V}from"./FormGroup.24d2e56a.js";import{T as R}from"./Text.441b2f8e.js";import"./copy-icon.06155c15.js";import"./GridItem.a22d8cac.js";import"./FlexItem.2ee8dfc9.js";import"./minus-circle-icon.e9e185f2.js";import"./ActionListItem.c90af00f.js";import"./plus-circle-icon.f1969120.js";function w(t){return Object.entries(t).reduce((r,[n,o])=>typeof o=="string"?[...r,{key:n,value:o}]:[...r],[])}function E(t){return Object.fromEntries(t.filter(r=>r.key.length>0).map(r=>[r.key,r.value]))}const b={annotations:[{key:"",value:""}],displayDescription:"",displayHeader:"",name:""};function z(){const{t}=I(),{realm:r}=k(),{config:n,save:o}=O(),x=v(),F=H(),a=j({defaultValues:b}),i=g.exports.useMemo(()=>n?.groups?.find(({name:s})=>s===F.name),[n?.groups]);g.exports.useEffect(()=>{if(!i)return;const s=i.annotations?w(i.annotations):[];a.reset({...b,...i,annotations:s})},[i]);const T=async s=>{if(!n)return;const l=[...n.groups??[]],u=i?l.indexOf(i):-1,f={...s,annotations:E(s.annotations)};u===-1?l.push(f):l[u]=f,await o({...n,groups:l})&&x(y({realm:r,tab:"attributes-group"}))};return d(A,{children:[e(L,{titleKey:i?"realm-settings:editGroupText":"realm-settings:createGroupText",divider:!0}),e(G,{variant:"light",onSubmit:a.handleSubmit(T),children:d(S,{isHorizontal:!0,role:"manage-realm",children:[d(m,{label:t("realm-settings:nameField"),fieldId:"kc-name",isRequired:!0,helperTextInvalid:t("common:required"),validated:a.formState.errors.name?"error":"default",labelIcon:e(c,{helpText:"realm-settings:nameHint",fieldLabelId:"realm-settings:nameField"}),children:[e(p,{id:"kc-name",isReadOnly:!!i,...a.register("name",{required:!0})}),!!i&&e("input",{type:"hidden",...a.register("name")})]}),e(m,{label:t("realm-settings:displayHeaderField"),fieldId:"kc-display-header",labelIcon:e(c,{helpText:"realm-settings:displayHeaderHint",fieldLabelId:"realm-settings:displayHeaderField"}),children:e(p,{id:"kc-display-header",...a.register("displayHeader")})}),e(m,{label:t("realm-settings:displayDescriptionField"),fieldId:"kc-display-description",labelIcon:e(c,{helpText:"realm-settings:displayDescriptionHint",fieldLabelId:"realm-settings:displayDescriptionField"}),children:e(p,{id:"kc-display-description",...a.register("displayDescription")})}),e(P,{children:e(R,{component:"h2",children:t("realm-settings:annotationsText")})}),e(m,{label:t("realm-settings:annotationsText"),fieldId:"kc-annotations",children:e(K,{...a,children:e(q,{name:"annotations"})})}),d(V,{children:[e(h,{variant:"primary",type:"submit",children:t("common:save")}),e(h,{variant:"link",component:s=>e(D,{...s,to:y({realm:r,tab:"attributes-group"})}),children:t("common:cancel")})]})]})})]})}const ne=()=>e(U,{children:e(z,{})});export{ne as default};
//# sourceMappingURL=AttributesGroupDetails.018ad9d1.js.map
