import{ab as ge,r as l,j as e,_ as T,p as g,z as ke,h as N,q as O,ac as ie,Q as Fe,ad as k,s as fe,ae as me,af as Q,y as Me,ag as He,ah as Ve,u as qe,F as Ue,G as We}from"./index.7cbfb18a.js";import{a as oe,b as be,c as ze}from"./HelpItem.719382e8.js";import{F as Ke,A as Qe,a as le,b as Je}from"./FormGroup.60c77f60.js";const Xe={name:"AngleUpIcon",height:512,width:320,svgPath:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z",yOffset:0,xOffset:0},Ye=ge(Xe),Ze=Ye,en={name:"ArrowRightIcon",height:512,width:448,svgPath:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z",yOffset:0,xOffset:0},nn=ge(en),an=nn;const F={modifiers:{bordered:"pf-m-bordered",raised:"pf-m-raised",scrollable:"pf-m-scrollable"},panel:"pf-c-panel",panelFooter:"pf-c-panel__footer",panelHeader:"pf-c-panel__header",panelMain:"pf-c-panel__main",panelMainBody:"pf-c-panel__main-body"},tn=a=>{var{className:t,children:r,variant:s,isScrollable:f,innerRef:m}=a,b=T(a,["className","children","variant","isScrollable","innerRef"]);return e("div",{...Object.assign({className:g(F.panel,s==="raised"&&F.modifiers.raised,s==="bordered"&&F.modifiers.bordered,f&&F.modifiers.scrollable,t),ref:m},b),children:r})},xe=l.exports.forwardRef((a,t)=>e(tn,{...Object.assign({innerRef:t},a)}));xe.displayName="Panel";const ve=a=>{var{className:t,children:r,maxHeight:s}=a,f=T(a,["className","children","maxHeight"]);return e("div",{...Object.assign({className:g(F.panelMain,t),style:{"--pf-c-panel__main--MaxHeight":s}},f),children:r})};ve.displayName="PanelMain";const Ie=a=>{var{className:t,children:r}=a,s=T(a,["className","children"]);return e("div",{...Object.assign({className:g(F.panelMainBody,t)},s),children:r})};Ie.displayName="PanelMainBody";const Ne=({className:a,parentRef:t,parentInputRef:r,value:s="",attributes:f=[],formAdditionalItems:m,hasWordsAttrLabel:b="Has words",advancedSearchDelimiter:y,getAttrValueMap:S,onChange:x,onSearch:d,onClear:v,resetButtonLabel:D="Reset",submitSearchButtonLabel:L="Search",isSearchMenuOpen:h,onToggleAdvancedMenu:P})=>{const B=l.exports.useRef(null),[M,G]=l.exports.useState(!1);l.exports.useEffect(()=>{f.length>0&&!y&&console.error("AdvancedSearchMenu: An advancedSearchDelimiter prop is required when advanced search attributes are provided using the attributes prop")}),l.exports.useEffect(()=>{h&&B&&B.current?(B.current.focus(),G(!0)):!h&&M&&r&&r.current&&r.current.focus()},[h]),l.exports.useEffect(()=>(document.addEventListener("mousedown",R),document.addEventListener("touchstart",R),document.addEventListener("keydown",H),function(){document.removeEventListener("mousedown",R),document.removeEventListener("touchstart",R),document.removeEventListener("keydown",H)}));const R=o=>{const c=t&&t.current.contains(o.target);h&&!c&&P(o)},H=o=>{h&&o.key===ke.Escape&&t&&t.current.contains(o.target)&&(P(o),r&&r.current.focus())},J=o=>{o.preventDefault(),d&&d(o,s,S()),h&&P(o)},V=(o,c,p)=>{const _=S();_[o]=c;let u="";Object.entries(_).forEach(([E,w])=>{if(w.trim()!==""){const K=w.includes(" ")?`'${w.replace(/(^'|'$)/g,"")}'`:w;E!=="haswords"?u=`${u} ${E}${y}${K}`:u=`${u} ${K}`}}),x&&x(p,u.replace(/^\s+/g,""))},q=o=>{const c=S();return c.hasOwnProperty(o)?c[o]:""},X=()=>{const o=[];return f.forEach((c,p)=>{const _=typeof c=="string"?c:c.display,u=typeof c=="string"?c:c.attr;p===0?o.push(e(le,{label:_,fieldId:`${u}_${p}`,children:e(ie,{ref:B,type:"text",id:`${u}_${p}`,value:q(u),onChange:(E,w)=>V(u,E,w)})},`${c}_${p}`)):o.push(e(le,{label:_,fieldId:`${u}_${p}`,children:e(ie,{type:"text",id:`${u}_${p}`,value:q(u),onChange:(E,w)=>V(u,E,w)})},`${c}_${p}`))}),o.push(e(Fe,{children:c=>e(le,{label:b,fieldId:c,children:e(ie,{type:"text",id:c,value:q("haswords"),onChange:(p,_)=>V("haswords",p,_)})})},"hasWords")),o};return h?e(xe,{variant:"raised",className:g(a),children:e(ve,{children:e(Ie,{children:N(Ke,{children:[X(),m||null,N(Qe,{children:[e(O,{variant:"primary",type:"submit",onClick:J,isDisabled:!s,children:L}),!!v&&e(O,{variant:"link",type:"reset",onClick:v,children:D})]})]})})})}):null};Ne.displayName="SearchInput";const A={button:"pf-c-button",chipGroupMain:"pf-c-chip-group__main",modifiers:{disabled:"pf-m-disabled",plain:"pf-m-plain",icon:"pf-m-icon",hint:"pf-m-hint"},textInputGroup:"pf-c-text-input-group",textInputGroupGroup:"pf-c-text-input-group__group",textInputGroupIcon:"pf-c-text-input-group__icon",textInputGroupMain:"pf-c-text-input-group__main",textInputGroupText:"pf-c-text-input-group__text",textInputGroupTextInput:"pf-c-text-input-group__text-input",textInputGroupUtilities:"pf-c-text-input-group__utilities"},ye=l.exports.createContext({isDisabled:!1}),Se=a=>{var{children:t,className:r,isDisabled:s,isPlain:f,innerRef:m}=a,b=T(a,["children","className","isDisabled","isPlain","innerRef"]);const y=l.exports.useRef(null),S=m||y;return e(ye.Provider,{value:{isDisabled:s},children:e("div",{...Object.assign({ref:S,className:g(A.textInputGroup,s&&A.modifiers.disabled,f&&A.modifiers.plain,r)},b),children:t})})};Se.displayName="TextInputGroup";const Ce=a=>{var{children:t,className:r,icon:s,type:f="text",hint:m,onChange:b=()=>{},onFocus:y,onBlur:S,"aria-label":x="Type to filter",value:d,placeholder:v,innerRef:D,name:L}=a,h=T(a,["children","className","icon","type","hint","onChange","onFocus","onBlur","aria-label","value","placeholder","innerRef","name"]);const{isDisabled:P}=l.exports.useContext(ye),B=l.exports.useRef(null),M=D||B,G=R=>{b(R,R.currentTarget.value)};return N("div",{...Object.assign({className:g(A.textInputGroupMain,s&&A.modifiers.icon,r)},h),children:[t,N("span",{className:g(A.textInputGroupText),children:[m&&e("input",{className:g(A.textInputGroupTextInput,A.modifiers.hint),type:"text",disabled:!0,"aria-hidden":"true",value:m}),s&&e("span",{className:g(A.textInputGroupIcon),children:s}),e("input",{ref:M,type:f,className:g(A.textInputGroupTextInput),"aria-label":x,disabled:P,onChange:G,onFocus:y,onBlur:S,value:d||"",placeholder:v,name:L})]})]})};Ce.displayName="TextInputGroupMain";const Ae=a=>{var{children:t,className:r}=a,s=T(a,["children","className"]);return e("div",{...Object.assign({className:g(A.textInputGroupUtilities,r)},s),children:t})};Ae.displayName="TextInputGroupUtilities";const Te=a=>{var{className:t,value:r="",attributes:s=[],formAdditionalItems:f,hasWordsAttrLabel:m="Has words",advancedSearchDelimiter:b,placeholder:y,hint:S,onChange:x,onSearch:d,onClear:v,onToggleAdvancedSearch:D,isAdvancedSearchOpen:L,resultsCount:h,onNextClick:P,onPreviousClick:B,innerRef:M,expandableInput:G,"aria-label":R="Search input",resetButtonLabel:H="Reset",openMenuButtonAriaLabel:J="Open advanced search",previousNavigationButtonAriaLabel:V="Previous",isPreviousNavigationButtonDisabled:q=!1,isNextNavigationButtonDisabled:X=!1,nextNavigationButtonAriaLabel:o="Next",submitSearchButtonLabel:c="Search",isDisabled:p=!1,appendTo:_,removeFindDomNode:u=!1,zIndex:E=9999,type:w="text",name:K}=a,Y=T(a,["className","value","attributes","formAdditionalItems","hasWordsAttrLabel","advancedSearchDelimiter","placeholder","hint","onChange","onSearch","onClear","onToggleAdvancedSearch","isAdvancedSearchOpen","resultsCount","onNextClick","onPreviousClick","innerRef","expandableInput","aria-label","resetButtonLabel","openMenuButtonAriaLabel","previousNavigationButtonAriaLabel","isPreviousNavigationButtonDisabled","isNextNavigationButtonDisabled","nextNavigationButtonAriaLabel","submitSearchButtonLabel","isDisabled","appendTo","removeFindDomNode","zIndex","type","name"]);const[U,Z]=l.exports.useState(!1),[ee,ne]=l.exports.useState(r),W=l.exports.useRef(null),Be=l.exports.useRef(null),$=M||Be,z=l.exports.useRef(null),[ce,pe]=l.exports.useState(!1),{isExpanded:j,onToggleExpand:Ge,toggleAriaLabel:_e}=G||{};l.exports.useEffect(()=>{var n,i;if(ce)j?(n=$?.current)===null||n===void 0||n.focus():(i=z?.current)===null||i===void 0||i.focus();else return;pe(!1)},[ce,j,$,z]),l.exports.useEffect(()=>{ne(r)},[r]),l.exports.useEffect(()=>{s.length>0&&!b&&console.error("An advancedSearchDelimiter prop is required when advanced search attributes are provided using the attributes prop")}),l.exports.useEffect(()=>{Z(L)},[L]);const we=(n,i)=>{x&&x(n,i),ne(i)},ue=n=>{const i=!U;Z(i),D&&D(n,i)},de=n=>{n.preventDefault(),d&&d(n,r,he()),Z(!1)},Le=n=>{let i;return n.match(/\\?.|^$/g).reduce((C,I)=>(I==="'"||I==='"'?(i||(i=I),I===i&&(C.quote=!C.quote)):!C.quote&&I===" "?C.a.push(""):C.a[C.a.length-1]+=I.replace(/\\(.)/,"$1"),C),{a:[""]}).a},he=()=>{const n={};return Le(ee).map(C=>{const I=C.split(b);I.length===2?n[I[0]]=I[1].replace(/(^'|'$)/g,""):I.length===1&&(n.haswords=n.hasOwnProperty("haswords")?`${n.haswords} ${I[0]}`:I[0])}),n},Pe=n=>{n.key==="Enter"&&de(n)},Re=n=>{v&&v(n),$&&$.current&&$.current.focus()},$e=n=>{ne(""),Ge(n,j),pe(!0)},Ee=r&&(h||!!P&&!!B||!!v&&!G),ae=(n={})=>{var i=T(n,[]);return N(Se,{...Object.assign({isDisabled:p},i),children:[e(Ce,{hint:S,icon:e(me,{}),innerRef:$,value:ee,placeholder:y,"aria-label":R,onKeyDown:Pe,onChange:we,type:w,name:K}),Ee&&N(Ae,{children:[h&&e(Ve,{isRead:!0,children:h}),!!P&&!!B&&N("div",{className:"pf-c-text-input-group__group",children:[e(O,{variant:k.plain,"aria-label":V,isDisabled:p||q,onClick:B,children:e(Ze,{})}),e(O,{variant:k.plain,"aria-label":o,isDisabled:p||X,onClick:P,children:e(Je,{})})]}),!!v&&!G&&e(O,{variant:k.plain,isDisabled:p,"aria-label":H,onClick:Re,children:e(fe,{})})]})]})},te=e(O,{variant:k.plain,"aria-label":_e,"aria-expanded":j,icon:j?e(fe,{}):e(me,{}),onClick:$e,ref:z}),Oe=(n={})=>{var i=T(n,[]);return N(Q,{...Object.assign({},i),children:[ae(),te]})},je=(n={})=>{var i=T(n,[]);return G?Oe(Object.assign({},i)):ae(Object.assign({},i))},re=(n={})=>{var i=T(n,[]);return N(Q,{...Object.assign({},i),children:[ae(),(s.length>0||D)&&e(O,{className:U&&"pf-m-expanded",variant:k.control,"aria-label":J,onClick:ue,isDisabled:p,"aria-expanded":U,children:e(He,{})}),!!d&&e(O,{type:"submit",variant:k.control,"aria-label":c,onClick:de,isDisabled:p||!ee,children:e(an,{})}),G&&te]})},se=Object.assign(Object.assign({},Y),{className:t&&g(t),innerRef:W});if(!!G&&!j)return e(Q,{...Object.assign({},se),children:te});if(!!d||s.length>0||!!D){if(s.length>0){const n=e("div",{children:e(Ne,{value:r,parentRef:W,parentInputRef:$,onSearch:d,onClear:v,onChange:x,onToggleAdvancedMenu:ue,resetButtonLabel:H,submitSearchButtonLabel:c,attributes:s,formAdditionalItems:f,hasWordsAttrLabel:m,advancedSearchDelimiter:b,getAttrValueMap:he,isSearchMenuOpen:U})}),i=e("div",{...Object.assign({className:g(t),ref:W},Y),children:e(Me,{trigger:re(),popper:n,isVisible:U,enableFlip:!0,appendTo:()=>_||W.current,removeFindDomNode:u,zIndex:E})}),C=N("div",{...Object.assign({className:g(t),ref:W},Y),children:[re(),n]});return _!=="inline"?i:C}return re(Object.assign({},se))}return je(se)};Te.displayName="SearchInputBase";const De=l.exports.forwardRef((a,t)=>e(Te,{...Object.assign({},a,{innerRef:t})}));De.displayName="SearchInput";const ln=({toolbarItem:a,subToolbar:t,toolbarItemFooter:r,children:s,searchTypeComponent:f,inputGroupName:m,inputGroupPlaceholder:b,inputGroupOnEnter:y})=>{const{t:S}=qe(),[x,d]=l.exports.useState(""),v=()=>{x!==""?(d(x),y?.(x)):(d(""),y?.(""))},D=L=>{L.key==="Enter"&&v()};return N(Ue,{children:[e(oe,{children:N(be,{children:[m&&e(ze,{children:N(Q,{"data-testid":m,children:[f,b&&e(De,{placeholder:b,"aria-label":S("search"),value:x,onChange:(L,h)=>{d(h)},onSearch:v,onKeyDown:D,onClear:()=>{d(""),y?.("")}})]})}),a]})}),t&&e(oe,{children:e(be,{children:t})}),e(We,{}),s,e(oe,{children:r})]})};export{De as S,ln as T};
//# sourceMappingURL=TableToolbar.51ae2a5f.js.map
