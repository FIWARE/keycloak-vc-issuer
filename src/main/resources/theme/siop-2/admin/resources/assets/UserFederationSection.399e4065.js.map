{"version":3,"file":"UserFederationSection.399e4065.js","sources":["../../../../node_modules/@patternfly/react-core/dist/esm/components/Card/CardActions.js","../../../../node_modules/@patternfly/react-core/dist/esm/components/Card/CardFooter.js","../../../../node_modules/@patternfly/react-core/dist/esm/layouts/Gallery/GalleryItem.js","../../../../node_modules/@patternfly/react-icons/dist/esm/icons/database-icon.js","../../src/components/keycloak-card/KeycloakCard.tsx","../../src/user-federation/ManagePriorityDialog.tsx","../../src/user-federation/UserFederationSection.tsx"],"sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport { css } from '@patternfly/react-styles';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nexport const CardActions = (_a) => {\n    var { children = null, className = '', hasNoOffset = false } = _a, props = __rest(_a, [\"children\", \"className\", \"hasNoOffset\"]);\n    return (React.createElement(\"div\", Object.assign({ className: css(styles.cardActions, hasNoOffset && styles.modifiers.noOffset, className) }, props), children));\n};\nCardActions.displayName = 'CardActions';\n//# sourceMappingURL=CardActions.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport styles from '@patternfly/react-styles/css/components/Card/card';\nimport { css } from '@patternfly/react-styles';\nexport const CardFooter = (_a) => {\n    var { children = null, className = '', component = 'div' } = _a, props = __rest(_a, [\"children\", \"className\", \"component\"]);\n    const Component = component;\n    return (React.createElement(Component, Object.assign({ className: css(styles.cardFooter, className) }, props), children));\n};\nCardFooter.displayName = 'CardFooter';\n//# sourceMappingURL=CardFooter.js.map","import { __rest } from \"tslib\";\nimport * as React from 'react';\nexport const GalleryItem = (_a) => {\n    var { children = null, component = 'div' } = _a, props = __rest(_a, [\"children\", \"component\"]);\n    const Component = component;\n    return React.createElement(Component, Object.assign({}, props), children);\n};\nGalleryItem.displayName = 'GalleryItem';\n//# sourceMappingURL=GalleryItem.js.map","import { createIcon } from '../createIcon';\n\nexport const DatabaseIconConfig = {\n  name: 'DatabaseIcon',\n  height: 512,\n  width: 448,\n  svgPath: 'M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z',\n  yOffset: 0,\n  xOffset: 0,\n};\n\nexport const DatabaseIcon = createIcon(DatabaseIconConfig);\n\nexport default DatabaseIcon;","import {\n  CardActions,\n  CardBody,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n  Dropdown,\n  Flex,\n  FlexItem,\n  KebabToggle,\n  Label,\n} from \"@patternfly/react-core\";\nimport { ReactElement, useState } from \"react\";\nimport { To, useNavigate } from \"react-router-dom\";\nimport { ClickableCard } from \"./ClickableCard\";\n\nimport \"./keycloak-card.css\";\n\nexport type KeycloakCardProps = {\n  title: string;\n  dropdownItems?: ReactElement[];\n  labelText?: string;\n  labelColor?: any;\n  footerText?: string;\n  to: To;\n};\n\nexport const KeycloakCard = ({\n  title,\n  dropdownItems,\n  labelText,\n  labelColor,\n  footerText,\n  to,\n}: KeycloakCardProps) => {\n  const navigate = useNavigate();\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n\n  const onDropdownToggle = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n\n  const handleCardMenuClick = (e: any) => {\n    e.stopPropagation();\n  };\n\n  return (\n    <ClickableCard isSelectable onClick={() => navigate(to)}>\n      <CardHeader>\n        <CardActions>\n          {dropdownItems && (\n            <Dropdown\n              data-testid={`${title}-dropdown`}\n              isPlain\n              position={\"right\"}\n              toggle={<KebabToggle onToggle={onDropdownToggle} />}\n              onClick={(e) => handleCardMenuClick(e)}\n              isOpen={isDropdownOpen}\n              dropdownItems={dropdownItems}\n            />\n          )}\n        </CardActions>\n        <CardTitle data-testid=\"keycloak-card-title\">{title}</CardTitle>\n      </CardHeader>\n      <CardBody />\n      <CardFooter>\n        <Flex>\n          <FlexItem className=\"keycloak--keycloak-card__footer\">\n            {footerText && footerText}\n          </FlexItem>\n          <FlexItem>\n            {labelText && (\n              <Label color={labelColor || \"gray\"}>{labelText}</Label>\n            )}\n          </FlexItem>\n        </Flex>\n      </CardFooter>\n    </ClickableCard>\n  );\n};\n","import { useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { sortBy } from \"lodash-es\";\nimport {\n  Button,\n  ButtonVariant,\n  DataList,\n  DataListCell,\n  DataListControl,\n  DataListDragButton,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Modal,\n  ModalVariant,\n  TextContent,\n  Text,\n} from \"@patternfly/react-core\";\nimport type ComponentRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentRepresentation\";\nimport { useAdminClient } from \"../context/auth/AdminClient\";\nimport { useAlerts } from \"../components/alert/Alerts\";\n\ntype ManagePriorityDialogProps = {\n  components: ComponentRepresentation[];\n  onClose: () => void;\n};\n\nexport const ManagePriorityDialog = ({\n  components,\n  onClose,\n}: ManagePriorityDialogProps) => {\n  const { t } = useTranslation(\"user-federation\");\n  const { adminClient } = useAdminClient();\n  const { addAlert, addError } = useAlerts();\n\n  const [id, setId] = useState(\"\");\n  const [liveText, setLiveText] = useState(\"\");\n  const [order, setOrder] = useState(\n    components.map((component) => component.name!)\n  );\n\n  const onDragStart = (id: string) => {\n    setId(id);\n    setLiveText(t(\"common:onDragStart\", { item: id }));\n  };\n\n  const onDragMove = () => {\n    setLiveText(t(\"common:onDragMove\", { item: id }));\n  };\n\n  const onDragCancel = () => {\n    setLiveText(t(\"common:onDragCancel\"));\n  };\n\n  const onDragFinish = (providerOrder: string[]) => {\n    setLiveText(t(\"common:onDragFinish\", { list: providerOrder }));\n    setOrder(providerOrder);\n  };\n\n  return (\n    <Modal\n      variant={ModalVariant.small}\n      title={t(\"managePriorityOrder\")}\n      isOpen={true}\n      onClose={onClose}\n      actions={[\n        <Button\n          id=\"modal-confirm\"\n          key=\"confirm\"\n          onClick={async () => {\n            const updates = order.map((name, index) => {\n              const component = components!.find((c) => c.name === name)!;\n              component.config!.priority = [index.toString()];\n              return adminClient.components.update(\n                { id: component.id! },\n                component\n              );\n            });\n\n            try {\n              await Promise.all(updates);\n              addAlert(t(\"orderChangeSuccess\"));\n            } catch (error) {\n              addError(\"orderChangeError\", error);\n            }\n\n            onClose();\n          }}\n        >\n          {t(\"common:save\")}\n        </Button>,\n        <Button\n          id=\"modal-cancel\"\n          key=\"cancel\"\n          variant={ButtonVariant.link}\n          onClick={onClose}\n        >\n          {t(\"common:cancel\")}\n        </Button>,\n      ]}\n    >\n      <TextContent className=\"pf-u-pb-lg\">\n        <Text>{t(\"managePriorityInfo\")}</Text>\n      </TextContent>\n\n      <DataList\n        aria-label={t(\"manageOrderTableAria\")}\n        data-testid=\"manageOrderDataList\"\n        isCompact\n        onDragFinish={onDragFinish}\n        onDragStart={onDragStart}\n        onDragMove={onDragMove}\n        onDragCancel={onDragCancel}\n        itemOrder={order}\n      >\n        {sortBy(components, \"config.priority\", \"name\").map((component) => (\n          <DataListItem\n            aria-label={component.name}\n            id={component.name}\n            key={component.name}\n          >\n            <DataListItemRow>\n              <DataListControl>\n                <DataListDragButton aria-label={t(\"common-help:dragHelp\")} />\n              </DataListControl>\n              <DataListItemCells\n                dataListCells={[\n                  <DataListCell\n                    key={component.name}\n                    data-testid={component.name}\n                  >\n                    {component.name}\n                  </DataListCell>,\n                ]}\n              />\n            </DataListItemRow>\n          </DataListItem>\n        ))}\n      </DataList>\n      <div className=\"pf-screen-reader\" aria-live=\"assertive\">\n        {liveText}\n      </div>\n    </Modal>\n  );\n};\n","import type ComponentRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/componentRepresentation\";\nimport {\n  AlertVariant,\n  ButtonVariant,\n  CardTitle,\n  DropdownItem,\n  Gallery,\n  GalleryItem,\n  PageSection,\n  Split,\n  SplitItem,\n  Text,\n  TextContent,\n  TextVariants,\n} from \"@patternfly/react-core\";\nimport { DatabaseIcon } from \"@patternfly/react-icons\";\nimport { useMemo, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { useAlerts } from \"../components/alert/Alerts\";\nimport { useConfirmDialog } from \"../components/confirm-dialog/ConfirmDialog\";\nimport { ClickableCard } from \"../components/keycloak-card/ClickableCard\";\nimport { KeycloakCard } from \"../components/keycloak-card/KeycloakCard\";\nimport { ViewHeader } from \"../components/view-header/ViewHeader\";\nimport { useAdminClient, useFetch } from \"../context/auth/AdminClient\";\nimport { useRealm } from \"../context/realm-context/RealmContext\";\nimport { useServerInfo } from \"../context/server-info/ServerInfoProvider\";\nimport helpUrls from \"../help-urls\";\nimport { toUpperCase } from \"../util\";\nimport { ManagePriorityDialog } from \"./ManagePriorityDialog\";\nimport { toCustomUserFederation } from \"./routes/CustomUserFederation\";\nimport { toNewCustomUserFederation } from \"./routes/NewCustomUserFederation\";\nimport { toUserFederationKerberos } from \"./routes/UserFederationKerberos\";\nimport { toUserFederationLdap } from \"./routes/UserFederationLdap\";\n\nimport \"./user-federation.css\";\n\nexport default function UserFederationSection() {\n  const [userFederations, setUserFederations] =\n    useState<ComponentRepresentation[]>();\n  const { addAlert, addError } = useAlerts();\n  const { t } = useTranslation(\"user-federation\");\n  const { realm } = useRealm();\n  const { adminClient } = useAdminClient();\n  const [key, setKey] = useState(0);\n  const refresh = () => setKey(new Date().getTime());\n\n  const navigate = useNavigate();\n\n  const [manageDisplayDialog, setManageDisplayDialog] = useState(false);\n\n  const providers =\n    useServerInfo().componentTypes?.[\n      \"org.keycloak.storage.UserStorageProvider\"\n    ] || [];\n\n  useFetch(\n    async () => {\n      const realmModel = await adminClient.realms.findOne({ realm });\n      const testParams: { [name: string]: string | number } = {\n        parentId: realmModel!.id!,\n        type: \"org.keycloak.storage.UserStorageProvider\",\n      };\n      return adminClient.components.find(testParams);\n    },\n    (userFederations) => {\n      setUserFederations(userFederations);\n    },\n    [key]\n  );\n\n  const ufAddProviderDropdownItems = useMemo(\n    () =>\n      providers.map((p) => (\n        <DropdownItem\n          key={p.id}\n          onClick={() =>\n            navigate(toNewCustomUserFederation({ realm, providerId: p.id! }))\n          }\n        >\n          {p.id.toUpperCase() == \"LDAP\"\n            ? p.id.toUpperCase()\n            : toUpperCase(p.id)}\n        </DropdownItem>\n      )),\n    []\n  );\n\n  const lowerButtonProps = {\n    variant: \"link\",\n    onClick: () => setManageDisplayDialog(true),\n    lowerButtonTitle: t(\"managePriorities\"),\n  };\n\n  let cards;\n\n  const [currentCard, setCurrentCard] = useState(\"\");\n  const [toggleDeleteDialog, DeleteConfirm] = useConfirmDialog({\n    titleKey: t(\"userFedDeleteConfirmTitle\"),\n    messageKey: t(\"userFedDeleteConfirm\"),\n    continueButtonLabel: \"common:delete\",\n    continueButtonVariant: ButtonVariant.danger,\n    onConfirm: async () => {\n      try {\n        await adminClient.components.del({ id: currentCard });\n        refresh();\n        addAlert(t(\"userFedDeletedSuccess\"), AlertVariant.success);\n      } catch (error) {\n        addError(\"user-federation:userFedDeleteError\", error);\n      }\n    },\n  });\n\n  const toggleDeleteForCard = (id: string) => {\n    setCurrentCard(id);\n    toggleDeleteDialog();\n  };\n\n  const cardSorter = (card1: any, card2: any) => {\n    const a = `${card1.name}`;\n    const b = `${card2.name}`;\n    return a < b ? -1 : 1;\n  };\n\n  const toDetails = (providerId: string, id: string) => {\n    switch (providerId) {\n      case \"ldap\":\n        return toUserFederationLdap({ realm, id });\n      case \"kerberos\":\n        return toUserFederationKerberos({ realm, id });\n      default:\n        return toCustomUserFederation({ realm, providerId, id });\n    }\n  };\n\n  if (userFederations) {\n    cards = userFederations.sort(cardSorter).map((userFederation, index) => (\n      <GalleryItem\n        key={index}\n        className=\"keycloak-admin--user-federation__gallery-item\"\n      >\n        <KeycloakCard\n          to={toDetails(userFederation.providerId!, userFederation.id!)}\n          dropdownItems={[\n            <DropdownItem\n              key={`${index}-cardDelete`}\n              onClick={() => {\n                toggleDeleteForCard(userFederation.id!);\n              }}\n              data-testid=\"card-delete\"\n            >\n              {t(\"common:delete\")}\n            </DropdownItem>,\n          ]}\n          title={userFederation.name!}\n          footerText={toUpperCase(userFederation.providerId!)}\n          labelText={\n            userFederation.config?.[\"enabled\"]?.[0] !== \"false\"\n              ? `${t(\"common:enabled\")}`\n              : `${t(\"common:disabled\")}`\n          }\n          labelColor={\n            userFederation.config?.[\"enabled\"]?.[0] !== \"false\"\n              ? \"blue\"\n              : \"gray\"\n          }\n        />\n      </GalleryItem>\n    ));\n  }\n\n  return (\n    <>\n      <DeleteConfirm />\n      {manageDisplayDialog && userFederations && (\n        <ManagePriorityDialog\n          onClose={() => setManageDisplayDialog(false)}\n          components={userFederations.filter((p) => p.config?.enabled)}\n        />\n      )}\n      <ViewHeader\n        titleKey=\"userFederation\"\n        subKey=\"user-federation:userFederationExplain\"\n        helpUrl={helpUrls.userFederationUrl}\n        {...(userFederations && userFederations.length > 0\n          ? {\n              lowerDropdownItems: ufAddProviderDropdownItems,\n              lowerDropdownMenuTitle: \"user-federation:addNewProvider\",\n              lowerButton: lowerButtonProps,\n            }\n          : {})}\n      />\n      <PageSection>\n        {userFederations && userFederations.length > 0 ? (\n          <Gallery hasGutter>{cards}</Gallery>\n        ) : (\n          <>\n            <TextContent>\n              <Text component={TextVariants.p}>{t(\"getStarted\")}</Text>\n            </TextContent>\n            <TextContent>\n              <Text className=\"pf-u-mt-lg\" component={TextVariants.h2}>\n                {t(\"providers\")}\n              </Text>\n            </TextContent>\n            <hr className=\"pf-u-mb-lg\" />\n            <Gallery hasGutter>\n              {providers.map((p) => (\n                <ClickableCard\n                  key={p.id}\n                  onClick={() =>\n                    navigate(\n                      toNewCustomUserFederation({ realm, providerId: p.id! })\n                    )\n                  }\n                  data-testid={`${p.id}-card`}\n                >\n                  <CardTitle>\n                    <Split hasGutter>\n                      <SplitItem>\n                        <DatabaseIcon size=\"lg\" />\n                      </SplitItem>\n                      <SplitItem isFilled>\n                        {t(\"addProvider\", {\n                          provider: toUpperCase(p.id!),\n                          count: 4,\n                        })}\n                      </SplitItem>\n                    </Split>\n                  </CardTitle>\n                </ClickableCard>\n              ))}\n            </Gallery>\n          </>\n        )}\n      </PageSection>\n    </>\n  );\n}\n"],"names":["CardActions","_a","children","className","hasNoOffset","props","__rest","_jsx","Object","assign","css","styles","cardActions","modifiers","noOffset","displayName","CardFooter","component","cardFooter","GalleryItem","DatabaseIconConfig","DatabaseIcon","createIcon","KeycloakCard","title","dropdownItems","labelText","labelColor","footerText","to","navigate","useNavigate","isDropdownOpen","setIsDropdownOpen","useState","onDropdownToggle","handleCardMenuClick","e","stopPropagation","ClickableCard","_jsxs","CardHeader","Dropdown","KebabToggle","CardTitle","CardBody","Flex","FlexItem","Label","ManagePriorityDialog","components","onClose","t","useTranslation","adminClient","useAdminClient","addAlert","addError","useAlerts","id","setId","liveText","setLiveText","order","setOrder","map","name","onDragStart","item","onDragMove","onDragCancel","onDragFinish","providerOrder","list","Modal","ModalVariant","small","Button","updates","index","find","c","config","priority","toString","update","Promise","all","error","ButtonVariant","link","TextContent","Text","DataList","sortBy","DataListItem","DataListItemRow","DataListControl","DataListDragButton","DataListItemCells","DataListCell","UserFederationSection","userFederations","setUserFederations","realm","useRealm","key","setKey","refresh","Date","getTime","manageDisplayDialog","setManageDisplayDialog","providers","useServerInfo","componentTypes","useFetch","testParams","parentId","realms","findOne","type","ufAddProviderDropdownItems","useMemo","p","DropdownItem","toNewCustomUserFederation","providerId","toUpperCase","lowerButtonProps","variant","onClick","lowerButtonTitle","cards","currentCard","setCurrentCard","toggleDeleteDialog","DeleteConfirm","useConfirmDialog","titleKey","messageKey","continueButtonLabel","continueButtonVariant","danger","onConfirm","del","AlertVariant","success","toggleDeleteForCard","cardSorter","card1","card2","a","b","toDetails","toUserFederationLdap","toUserFederationKerberos","toCustomUserFederation","sort","userFederation","_Fragment","filter","enabled","ViewHeader","helpUrls","userFederationUrl","length","lowerDropdownItems","lowerDropdownMenuTitle","lowerButton","PageSection","Gallery","TextVariants","h2","Split","SplitItem","provider","count"],"mappings":"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"}