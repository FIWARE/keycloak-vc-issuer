import{a as A,C as c}from"./index.esm.68aaf060.js";import{F as T}from"./FormAccess.7ed5d8eb.js";import{H as i}from"./HelpItem.49be9c4e.js";import{u as x,h as o,F as y,j as e,aB as I,bz as g,af as m,aw as s}from"./index.2ecf13ca.js";import{a as d}from"./FormGroup.24d2e56a.js";import{G as z,a as p}from"./GridItem.a22d8cac.js";import{C as b}from"./Checkbox.56efba4a.js";import{K as F}from"./KeycloakTextArea.2947a089.js";import{K as w}from"./KeycloakTextInput.97e36976.js";const K=({unWrap:C,protocol:l})=>{const{t}=x("clients"),{control:n,watch:r,setValue:h}=A(),v=l||r("protocol"),u=r("publicClient"),k=r("authorizationServicesEnabled");return o(T,{isHorizontal:!0,role:"manage-clients",unWrap:C,className:"keycloak__capability-config__form","data-testid":"capability-config-form",children:[v==="openid-connect"&&o(y,{children:[e(d,{hasNoPaddingTop:!0,label:t("clientAuthentication"),fieldId:"kc-authentication",labelIcon:e(i,{helpText:"clients-help:authentication",fieldLabelId:"clients:authentication"}),children:e(c,{name:"publicClient",defaultValue:!1,control:n,render:({field:a})=>e(I,{"data-testid":"authentication",id:"kc-authentication-switch",label:t("common:on"),labelOff:t("common:off"),isChecked:!a.value,onChange:f=>{a.onChange(!f),f||(h("authorizationServicesEnabled",!1),h("serviceAccountsEnabled",!1),h(g("attributes.oidc.ciba.grant.enabled"),!1))},"aria-label":t("clientAuthentication")})})}),e(d,{hasNoPaddingTop:!0,label:t("clientAuthorization"),fieldId:"kc-authorization",labelIcon:e(i,{helpText:"clients-help:authorization",fieldLabelId:"clients:authorization"}),children:e(c,{name:"authorizationServicesEnabled",defaultValue:!1,control:n,render:({field:a})=>e(I,{"data-testid":"authorization",id:"kc-authorization-switch",label:t("common:on"),labelOff:t("common:off"),isChecked:a.value&&!u,onChange:f=>{a.onChange(f),f&&h("serviceAccountsEnabled",!0)},isDisabled:u,"aria-label":t("clientAuthorization")})})}),e(d,{hasNoPaddingTop:!0,label:t("authenticationFlow"),fieldId:"kc-flow",children:o(z,{id:"authenticationFlowGrid",children:[e(p,{lg:4,sm:6,children:e(c,{name:"standardFlowEnabled",defaultValue:!0,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"standard",label:t("standardFlow"),id:"kc-flow-standard",isChecked:a.value?.toString()==="true",onChange:a.onChange}),e(i,{helpText:"clients-help:standardFlow",fieldLabelId:"clients:standardFlow"})]})})}),e(p,{lg:8,sm:6,children:e(c,{name:"directAccessGrantsEnabled",defaultValue:!0,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"direct",label:t("directAccess"),id:"kc-flow-direct",isChecked:a.value,onChange:a.onChange}),e(i,{helpText:"clients-help:directAccess",fieldLabelId:"clients:directAccess"})]})})}),e(p,{lg:4,sm:6,children:e(c,{name:"implicitFlowEnabled",defaultValue:!0,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"implicit",label:t("implicitFlow"),id:"kc-flow-implicit",isChecked:a.value?.toString()==="true",onChange:a.onChange}),e(i,{helpText:"clients-help:implicitFlow",fieldLabelId:"clients:implicitFlow"})]})})}),e(p,{lg:8,sm:6,children:e(c,{name:"serviceAccountsEnabled",defaultValue:!1,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"service-account",label:t("serviceAccount"),id:"kc-flow-service-account",isChecked:a.value?.toString()==="true"||u&&k,onChange:a.onChange,isDisabled:u&&!k||!u&&k}),e(i,{helpText:"clients-help:serviceAccount",fieldLabelId:"clients:serviceAccount"})]})})}),e(p,{lg:8,sm:6,children:e(c,{name:g("attributes.oauth2.device.authorization.grant.enabled"),defaultValue:!1,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"oauth-device-authorization-grant",label:t("oauthDeviceAuthorizationGrant"),id:"kc-oauth-device-authorization-grant",name:"oauth2.device.authorization.grant.enabled",isChecked:a.value.toString()==="true",onChange:a.onChange}),e(i,{helpText:"clients-help:oauthDeviceAuthorizationGrant",fieldLabelId:"clients:oauthDeviceAuthorizationGrant"})]})})}),e(p,{lg:8,sm:6,children:e(c,{name:g("attributes.oidc.ciba.grant.enabled"),defaultValue:!1,control:n,render:({field:a})=>o(m,{children:[e(b,{"data-testid":"oidc-ciba-grant",label:t("oidcCibaGrant"),id:"kc-oidc-ciba-grant",name:"oidc.ciba.grant.enabled",isChecked:a.value.toString()==="true",onChange:a.onChange,isDisabled:u}),e(i,{helpText:"clients-help:oidcCibaGrant",fieldLabelId:"clients:oidcCibaGrant"})]})})})]})})]}),v==="saml"&&o(y,{children:[e(d,{labelIcon:e(i,{helpText:"clients-help:encryptAssertions",fieldLabelId:"clients:encryptAssertions"}),label:t("encryptAssertions"),fieldId:"kc-encrypt",hasNoPaddingTop:!0,children:e(c,{name:g("attributes.saml.encrypt"),control:n,defaultValue:!1,render:({field:a})=>e(I,{"data-testid":"encrypt",id:"kc-encrypt",label:t("common:on"),labelOff:t("common:off"),isChecked:a.value,onChange:a.onChange,"aria-label":t("encryptAssertions")})})}),e(d,{labelIcon:e(i,{helpText:"clients-help:clientSignature",fieldLabelId:"clients:clientSignature"}),label:t("clientSignature"),fieldId:"kc-client-signature",hasNoPaddingTop:!0,children:e(c,{name:g("attributes.saml.client.signature"),control:n,defaultValue:!1,render:({field:a})=>e(I,{"data-testid":"client-signature",id:"kc-client-signature",label:t("common:on"),labelOff:t("common:off"),isChecked:a.value,onChange:a.onChange,"aria-label":t("clientSignature")})})})]})]})},U=({hasConfigureAccess:C})=>{const{t:l}=x("clients"),{register:t,control:n,formState:{errors:r}}=A();return o(T,{role:"manage-clients",fineGrainedAccess:C,unWrap:!0,children:[e(d,{labelIcon:e(i,{helpText:"clients-help:clientId",fieldLabelId:"clientId"}),label:l("common:clientId"),fieldId:"kc-client-id",helperTextInvalid:l("common:required"),validated:r.clientId?s.error:s.default,isRequired:!0,children:e(w,{...t("clientId",{required:!0}),id:"kc-client-id","data-testid":"kc-client-id",validated:r.clientId?s.error:s.default})}),e(d,{labelIcon:e(i,{helpText:"clients-help:clientName",fieldLabelId:"name"}),label:l("common:name"),fieldId:"kc-name",children:e(w,{...t("name"),id:"kc-name"})}),e(d,{labelIcon:e(i,{helpText:"clients-help:description",fieldLabelId:"description"}),label:l("common:description"),fieldId:"kc-description",validated:r.description?s.error:s.default,helperTextInvalid:r.description?.message,children:e(F,{...t("description",{maxLength:{value:255,message:l("common:maxLength",{length:255})}}),id:"kc-description",validated:r.description?s.error:s.default})}),e(d,{label:l("alwaysDisplayInUI"),labelIcon:e(i,{helpText:"clients-help:alwaysDisplayInUI",fieldLabelId:"clients:alwaysDisplayInUI"}),fieldId:"kc-always-display-in-ui",hasNoPaddingTop:!0,children:e(c,{name:"alwaysDisplayInConsole",defaultValue:!1,control:n,render:({field:h})=>e(I,{id:"kc-always-display-in-ui-switch",label:l("common:on"),labelOff:l("common:off"),isChecked:h.value,onChange:h.onChange,"aria-label":l("alwaysDisplayInUI")})})})]})};export{U as C,K as a};
//# sourceMappingURL=ClientDescription.b8d8147e.js.map
