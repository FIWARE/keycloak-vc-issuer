import{_ as g,j as i,a3 as J,q as G,a5 as K,r as b,p as x,h as f,O as M,Q as _,F as $,ac as V,aE as X,aF as Y}from"./index.7cbfb18a.js";import{C as Z}from"./index.esm.1e7ace95.js";import{C as ee}from"./copy-icon.dbf95270.js";import{b as te,F as ie,a as ae,A as oe}from"./FormGroup.60c77f60.js";import{d as ne}from"./HelpItem.719382e8.js";import{a as se,G as re}from"./GridItem.63e5e367.js";const m={button:"pf-c-button",clipboardCopy:"pf-c-clipboard-copy",clipboardCopyActions:"pf-c-clipboard-copy__actions",clipboardCopyActionsItem:"pf-c-clipboard-copy__actions-item",clipboardCopyExpandableContent:"pf-c-clipboard-copy__expandable-content",clipboardCopyGroup:"pf-c-clipboard-copy__group",clipboardCopyText:"pf-c-clipboard-copy__text",clipboardCopyToggleIcon:"pf-c-clipboard-copy__toggle-icon",modifiers:{expanded:"pf-m-expanded",inline:"pf-m-inline",block:"pf-m-block",code:"pf-m-code"},themeDark:"pf-theme-dark"},E=a=>{var{onClick:o,exitDelay:e=0,entryDelay:n=300,maxWidth:s="100px",position:r="top","aria-label":d="Copyable input",id:l,textId:c,children:C,variant:y="control",onTooltipHidden:t=()=>{},removeFindDomNode:u=!1}=a,h=g(a,["onClick","exitDelay","entryDelay","maxWidth","position","aria-label","id","textId","children","variant","onTooltipHidden","removeFindDomNode"]);return i(J,{trigger:"mouseenter focus click",exitDelay:e,entryDelay:n,maxWidth:s,position:r,"aria-live":"polite",aria:"none",content:i("div",{children:C}),onTooltipHidden:t,removeFindDomNode:u,children:i(G,{...Object.assign({type:"button",variant:y,onClick:o,"aria-label":d,id:l,"aria-labelledby":`${l} ${c}`},h),children:i(ee,{})})})};E.displayName="ClipboardCopyButton";const w=a=>{var{onClick:o,id:e,textId:n,contentId:s,isExpanded:r=!1}=a,d=g(a,["onClick","id","textId","contentId","isExpanded"]);return i(G,{...Object.assign({type:"button",variant:"control",onClick:o,id:e,"aria-labelledby":`${e} ${n}`,"aria-controls":`${e} ${s}`,"aria-expanded":r},d),children:r?i(te,{"aria-hidden":"true"}):i(K,{"aria-hidden":"true"})})};w.displayName="ClipboardCopyToggle";class F extends b.exports.Component{constructor(o){super(o)}render(){const o=this.props,{className:e,children:n,onChange:s,isReadOnly:r,isCode:d}=o,l=g(o,["className","children","onChange","isReadOnly","isCode"]);return i("div",{...Object.assign({suppressContentEditableWarning:!0,className:x(m.clipboardCopyExpandableContent,e),onInput:c=>s(c.target.innerText,c),contentEditable:!r},l),children:d?i("pre",{children:n}):n})}}F.displayName="ClipboardCopyExpanded";F.defaultProps={onChange:()=>{},className:"",isReadOnly:!1,isCode:!1};const le=(a,o)=>{navigator.clipboard.writeText(o.toString())};var j;(function(a){a.inline="inline",a.expansion="expansion",a.inlineCompact="inline-compact"})(j||(j={}));class v extends b.exports.Component{constructor(o){super(o),this.timer=null,this.componentDidUpdate=(e,n)=>{e.children!==this.props.children&&this.updateText(this.props.children)},this.componentWillUnmount=()=>{this.timer&&window.clearTimeout(this.timer)},this.expandContent=e=>{this.setState(n=>({expanded:!n.expanded}))},this.updateText=e=>{this.setState({text:e}),this.props.onChange(e)},this.render=()=>{const e=this.props,{isExpanded:n,onChange:s,switchDelay:r,isReadOnly:d,isCode:l,isBlock:c,exitDelay:C,maxWidth:y,entryDelay:t,onCopy:u,hoverTip:h,clickTip:k,textAriaLabel:N,toggleAriaLabel:L,variant:D,position:S,className:P,additionalActions:O,ouiaId:B,ouiaSafe:H,removeFindDomNode:U}=e,q=g(e,["isExpanded","onChange","switchDelay","isReadOnly","isCode","isBlock","exitDelay","maxWidth","entryDelay","onCopy","hoverTip","clickTip","textAriaLabel","toggleAriaLabel","variant","position","className","additionalActions","ouiaId","ouiaSafe","removeFindDomNode"]),T="text-input-",Q="toggle-",z="content-";return f("div",{...Object.assign({className:x(m.clipboardCopy,D==="inline-compact"&&m.modifiers.inline,c&&m.modifiers.block,this.state.expanded&&m.modifiers.expanded,P)},q,M(v.displayName,B,H)),children:[D==="inline-compact"&&i(_,{prefix:"",children:p=>f($,{children:[!l&&i("span",{className:x(m.clipboardCopyText),id:`${T}${p}`,children:this.state.text}),l&&i("code",{className:x(m.clipboardCopyText,m.modifiers.code),id:`${T}${p}`,children:this.state.text}),f("span",{className:x(m.clipboardCopyActions),children:[i("span",{className:x(m.clipboardCopyActionsItem),children:i(E,{variant:"plain",exitDelay:C,entryDelay:t,maxWidth:y,position:S,id:`copy-button-${p}`,textId:`text-input-${p}`,"aria-label":h,onClick:A=>{u(A,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1}),children:this.state.copied?k:h})}),O&&O]})]})}),D!=="inline-compact"&&i(_,{prefix:"",children:p=>f($,{children:[f("div",{className:x(m.clipboardCopyGroup),children:[D==="expansion"&&i(w,{isExpanded:this.state.expanded,onClick:this.expandContent,id:`${Q}${p}`,textId:`${T}${p}`,contentId:`${z}${p}`,"aria-label":L}),i(V,{isReadOnly:d||this.state.expanded,onChange:this.updateText,value:this.state.text,id:`text-input-${p}`,"aria-label":N}),i(E,{exitDelay:C,entryDelay:t,maxWidth:y,position:S,id:`copy-button-${p}`,textId:`text-input-${p}`,"aria-label":h,onClick:A=>{u(A,this.state.text),this.setState({copied:!0})},onTooltipHidden:()=>this.setState({copied:!1}),removeFindDomNode:U,children:this.state.copied?k:h})]}),this.state.expanded&&i(F,{isReadOnly:d,isCode:l,id:`content-${p}`,onChange:this.updateText,children:this.state.text})]})})]})},this.state={text:Array.isArray(this.props.children)?this.props.children.join(""):this.props.children,expanded:this.props.isExpanded,copied:!1},this.props.switchDelay!==void 0&&console.warn("ClipboardCopy: switchDelay prop has been deprecated. The tooltip message will switch back to the hover tip as soon as the tooltip is hidden.")}}v.displayName="ClipboardCopy";v.defaultProps={hoverTip:"Copy to clipboard",clickTip:"Successfully copied to clipboard!",isReadOnly:!1,isExpanded:!1,isCode:!1,variant:"inline",position:ne.top,maxWidth:"150px",exitDelay:1500,entryDelay:300,onCopy:le,onChange:()=>{},textAriaLabel:"Copyable input",toggleAriaLabel:"Show content",additionalActions:null,ouiaSafe:!0,removeFindDomNode:!1};const I={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"},R=a=>{var{hasGutter:o=!1,className:e="",children:n=null,component:s="div"}=a,r=g(a,["hasGutter","className","children","component"]);return i(s,{...Object.assign({},r,{className:x(I.stack,o&&I.modifiers.gutter,e)}),children:n})};R.displayName="Stack";const W=a=>{var{isFilled:o=!1,className:e="",children:n=null}=a,s=g(a,["isFilled","className","children"]);return i("div",{...Object.assign({},s,{className:x(I.stackItem,o&&I.modifiers.fill,e)}),children:n})};W.displayName="StackItem";const xe=({children:a,role:o,fineGrainedAccess:e=!1,isReadOnly:n=!1,unWrap:s=!1,...r})=>{const{hasAccess:d}=X(),l=(C,y)=>b.exports.Children.map(C,t=>{if(!b.exports.isValidElement(t))return t;if(t.props){const u=t;if(t.type===Z)return b.exports.cloneElement(t,{...u.props,render:k=>{const N=u.props.render(k);return b.exports.cloneElement(N,{...N.props,...y})}});const h=l(u.props.children,y);return t.type===Y?b.exports.cloneElement(t,{readOnly:y.isDisabled,children:h}):b.exports.cloneElement(t,t.type===ae||t.type===se||t.type===re||t.type===oe||t.type===v||t.type===R||t.type===W?{children:h}:{...y,children:h})}return t}),c=n||!d(o)&&!e;return f($,{children:[!s&&i(ie,{...r,className:"keycloak__form "+(r.className||""),children:l(a,c?{isDisabled:c}:{})}),s&&l(a,c?{isDisabled:c}:{})]})};export{E as C,xe as F,R as S,W as a,v as b};
//# sourceMappingURL=FormAccess.3a7ea209.js.map
