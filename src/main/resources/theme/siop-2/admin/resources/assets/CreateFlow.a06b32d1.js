import{a as w,C as g,u as F,F as b}from"./index.esm.1e7ace95.js";import{u as f,r as v,j as e,ax as S,l as y,az as T,aA as A,h as m,F as C,P as I,q as p,b3 as x,b2 as V,aX as u,aY as H}from"./index.7cbfb18a.js";import{F as L}from"./FormAccess.3a7ea209.js";import{V as P}from"./ViewHeader.083cd951.js";import{H as j}from"./HelpItem.719382e8.js";import{a as z,A as N}from"./FormGroup.60c77f60.js";import{S as O,b as k,a as B}from"./Select.fbe867d5.js";import{N as E}from"./NameDescription.99baa3a5.js";import"./copy-icon.dbf95270.js";import"./GridItem.63e5e367.js";import"./Text.28ece842.js";import"./check.51c67984.js";import"./star-icon.a6efdd26.js";import"./KeycloakTextArea.d98120cb.js";import"./KeycloakTextInput.9afb01cd.js";const d=["basic-flow","client-flow"],G=()=>{const{t}=f("authentication"),{control:i}=w(),[n,r]=v.exports.useState(!1);return e(z,{label:t("flowType"),labelIcon:e(j,{helpText:"authentication-help:topLevelFlowType",fieldLabelId:"authentication:flowType"}),fieldId:"flowType",children:e(g,{name:"providerId",defaultValue:d[0],control:i,render:({field:o})=>e(O,{toggleId:"flowType",onToggle:r,onSelect:(a,l)=>{o.onChange(l.toString()),r(!1)},selections:t(`top-level-flow-type.${o.value}`),variant:k.single,"aria-label":t("flowType"),isOpen:n,children:d.map(a=>e(B,{selected:a===o.value,value:a,children:t(`top-level-flow-type.${a}`)},a))})})})};function ae(){const{t}=f("authentication"),i=S(),{realm:n}=y(),{adminClient:r}=T(),{addAlert:o}=A(),a=F(),{handleSubmit:l}=a;return m(C,{children:[e(P,{titleKey:"authentication:createFlow",subKey:"authentication-help:createFlow"}),e(I,{variant:"light",children:e(b,{...a,children:m(L,{isHorizontal:!0,role:"manage-authorization",onSubmit:l(async c=>{const h={...c,builtIn:!1,topLevel:!0};try{const{id:s}=await r.authenticationManagement.createFlow(h);o(t("flowCreatedSuccess"),u.success),i(H({realm:n,id:s,usedBy:"notInUse"}))}catch(s){o(t("flowCreateError",{error:s.response?.data?.errorMessage||s}),u.danger)}}),children:[e(E,{}),e(G,{}),m(N,{children:[e(p,{"data-testid":"create",type:"submit",children:t("common:create")}),e(p,{"data-testid":"cancel",variant:"link",component:c=>e(x,{...c,to:V({realm:n})}),children:t("common:cancel")})]})]})})})]})}export{ae as default};
//# sourceMappingURL=CreateFlow.a06b32d1.js.map
