import{u as w,ax as A,U as k,ay as x,az as y,aA as S,r as I,h as o,F as T,j as a,P as V,aB as q,q as s,aC as E,aD as K,t as N}from"./index.2ecf13ca.js";import{u as j,C as z}from"./index.esm.68aaf060.js";import{F as O}from"./FormAccess.7ed5d8eb.js";import{J as U}from"./JsonFileUpload.060aa7cc.js";import{K as B}from"./KeycloakTextInput.97e36976.js";import{V as D}from"./ViewHeader.67577dd4.js";import{a as n,A as G}from"./FormGroup.24d2e56a.js";import"./copy-icon.06155c15.js";import"./HelpItem.49be9c4e.js";import"./GridItem.a22d8cac.js";import"./FileUploadForm.e2de83e5.js";import"./FileUpload.005327fa.js";import"./CodeEditor.0b7c4c70.js";import"./EmptyStateBody.25bf6e38.js";import"./EmptyStateSecondaryActions.3ed74a6a.js";import"./Modal.2c72168d.js";import"./Text.441b2f8e.js";function me(){const{t:e}=w("realm"),m=A(),{refresh:i,whoAmI:c}=k(),{refresh:d}=x(),{adminClient:u}=y(),{addAlert:h,addError:p}=S(),[f,v]=I.exports.useState(),{register:b,handleSubmit:g,control:C,setValue:R,formState:{errors:l}}=j({mode:"onChange"}),F=r=>{const t={id:"",realm:"",enabled:!0};E(r||t,R),v(r||t)};return o(T,{children:[a(D,{titleKey:"realm:createRealm",subKey:"realm:realmExplain"}),a(V,{variant:"light",children:o(O,{isHorizontal:!0,onSubmit:g(async r=>{try{await u.realms.create({...f,...K(r)}),h(e("saveRealmSuccess")),i(),await d(),m(N({realm:r.realm}))}catch(t){p("realm:saveRealmError",t)}}),role:"view-realm",isReadOnly:!c.canCreateRealm(),children:[a(U,{id:"kc-realm-filename",allowEditingUploadedText:!0,onChange:F}),a(n,{label:e("realmName"),isRequired:!0,fieldId:"kc-realm-name",validated:l.realm?"error":"default",helperTextInvalid:l.realm?.message,children:a(B,{isRequired:!0,id:"kc-realm-name",validated:l.realm?"error":"default",...b("realm",{required:{value:!0,message:e("common:required")},pattern:{value:/^[a-zA-Z0-9-_]+$/,message:e("invalidRealmName")}})})}),a(n,{label:e("enabled"),fieldId:"kc-realm-enabled-switch",children:a(z,{name:"enabled",defaultValue:!0,control:C,render:({field:r})=>a(q,{id:"kc-realm-enabled-switch",name:"enabled",label:e("common:on"),labelOff:e("common:off"),isChecked:r.value,onChange:r.onChange,"aria-label":e("enabled")})})}),o(G,{children:[a(s,{variant:"primary",type:"submit",children:e("common:create")}),a(s,{variant:"link",onClick:()=>m(-1),children:e("common:cancel")})]})]})})]})}export{me as default};
//# sourceMappingURL=NewRealmForm.a7f92685.js.map
