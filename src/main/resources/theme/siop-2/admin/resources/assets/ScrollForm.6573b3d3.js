import{_ as D,j as t,p as k,r as n,h as x,M as V,I as Y,q as Z,a5 as ee,u as ne,P as te,c9 as le}from"./index.2ecf13ca.js";import{F as se}from"./FormPanel.3fe898ae.js";import{T as ie}from"./HelpItem.49be9c4e.js";import{G as ae,a as J}from"./GridItem.a22d8cac.js";const s={button:"pf-c-button",jumpLinks:"pf-c-jump-links",jumpLinksItem:"pf-c-jump-links__item",jumpLinksLabel:"pf-c-jump-links__label",jumpLinksLink:"pf-c-jump-links__link",jumpLinksLinkText:"pf-c-jump-links__link-text",jumpLinksList:"pf-c-jump-links__list",jumpLinksMain:"pf-c-jump-links__main",jumpLinksToggle:"pf-c-jump-links__toggle",jumpLinksToggleIcon:"pf-c-jump-links__toggle-icon",jumpLinksToggleText:"pf-c-jump-links__toggle-text",modifiers:{center:"pf-m-center",vertical:"pf-m-vertical",expandable:"pf-m-expandable",nonExpandable:"pf-m-non-expandable",expandableOnSm:"pf-m-expandable-on-sm",nonExpandableOnSm:"pf-m-non-expandable-on-sm",expandableOnMd:"pf-m-expandable-on-md",nonExpandableOnMd:"pf-m-non-expandable-on-md",expandableOnLg:"pf-m-expandable-on-lg",nonExpandableOnLg:"pf-m-non-expandable-on-lg",expandableOnXl:"pf-m-expandable-on-xl",nonExpandableOnXl:"pf-m-non-expandable-on-xl",expandableOn_2xl:"pf-m-expandable-on-2xl",nonExpandableOn_2xl:"pf-m-non-expandable-on-2xl",expanded:"pf-m-expanded",current:"pf-m-current"}};const oe={modifiers:{gutter:"pf-m-gutter",panelRight:"pf-m-panel-right",stack:"pf-m-stack",split:"pf-m-split",sticky:"pf-m-sticky",static:"pf-m-static",noBackground:"pf-m-no-background",widthDefault:"pf-m-width-default",width_25:"pf-m-width-25",width_33:"pf-m-width-33",width_50:"pf-m-width-50",width_66:"pf-m-width-66",width_75:"pf-m-width-75",width_100:"pf-m-width-100",widthDefaultOnSm:"pf-m-width-default-on-sm",width_25OnSm:"pf-m-width-25-on-sm",width_33OnSm:"pf-m-width-33-on-sm",width_50OnSm:"pf-m-width-50-on-sm",width_66OnSm:"pf-m-width-66-on-sm",width_75OnSm:"pf-m-width-75-on-sm",width_100OnSm:"pf-m-width-100-on-sm",widthDefaultOnMd:"pf-m-width-default-on-md",width_25OnMd:"pf-m-width-25-on-md",width_33OnMd:"pf-m-width-33-on-md",width_50OnMd:"pf-m-width-50-on-md",width_66OnMd:"pf-m-width-66-on-md",width_75OnMd:"pf-m-width-75-on-md",width_100OnMd:"pf-m-width-100-on-md",widthDefaultOnLg:"pf-m-width-default-on-lg",width_25OnLg:"pf-m-width-25-on-lg",width_33OnLg:"pf-m-width-33-on-lg",width_50OnLg:"pf-m-width-50-on-lg",width_66OnLg:"pf-m-width-66-on-lg",width_75OnLg:"pf-m-width-75-on-lg",width_100OnLg:"pf-m-width-100-on-lg",widthDefaultOnXl:"pf-m-width-default-on-xl",width_25OnXl:"pf-m-width-25-on-xl",width_33OnXl:"pf-m-width-33-on-xl",width_50OnXl:"pf-m-width-50-on-xl",width_66OnXl:"pf-m-width-66-on-xl",width_75OnXl:"pf-m-width-75-on-xl",width_100OnXl:"pf-m-width-100-on-xl",widthDefaultOn_2xl:"pf-m-width-default-on-2xl",width_25On_2xl:"pf-m-width-25-on-2xl",width_33On_2xl:"pf-m-width-33-on-2xl",width_50On_2xl:"pf-m-width-50-on-2xl",width_66On_2xl:"pf-m-width-66-on-2xl",width_75On_2xl:"pf-m-width-75-on-2xl",width_100On_2xl:"pf-m-width-100-on-2xl"},sidebar:"pf-c-sidebar",sidebarContent:"pf-c-sidebar__content",sidebarMain:"pf-c-sidebar__main",sidebarPanel:"pf-c-sidebar__panel"},L=e=>{var{children:i,className:o}=e,l=D(e,["children","className"]);return t("ul",{...Object.assign({className:k(s.jumpLinksList,o)},l),children:i})};L.displayName="JumpLinksList";const O=e=>{var{isActive:i,href:o,node:l,children:r,onClick:p,className:d}=e,w=D(e,["isActive","href","node","children","onClick","className"]);const f=n.exports.Children.toArray(r),j=f.filter(u=>u.type===L);return r=f.filter(u=>u.type!==L),x("li",{...Object.assign({className:k(s.jumpLinksItem,i&&s.modifiers.current,d)},i&&{"aria-current":"location"},w),children:[t("a",{className:s.jumpLinksLink,href:o,onClick:p,children:t("span",{className:s.jumpLinksLinkText,children:r})}),j]})};O.displayName="JumpLinksItem";const re={name:"--pf-c-jump-links__toggle--Display",value:"none",var:"var(--pf-c-jump-links__toggle--Display)"},pe=re,E=(e,i)=>(n.exports.Children.forEach(e,o=>{if(V&&document.getElementById&&document.querySelector&&o.type===O){const l=o.props.node||o.props.href;typeof l=="string"?l.startsWith("#")?i.push(document.getElementById(l.substr(1))):i.push(document.querySelector(l)):l instanceof HTMLElement&&i.push(l)}[n.exports.Fragment,L,O].includes(o.type)&&E(o.props.children,i)}),i);function de(e){return e&&getComputedStyle(e).getPropertyValue(pe.name).includes("block")}const G=e=>{var{isCentered:i,isVertical:o,children:l,label:r,"aria-label":p=typeof r=="string"?r:null,scrollableSelector:d,activeIndex:w=0,offset:f=0,expandable:j,isExpanded:u=!1,alwaysShowLabel:$=!0,toggleAriaLabel:z="Toggle jump links",className:U}=e,W=D(e,["isCentered","isVertical","children","label","aria-label","scrollableSelector","activeIndex","offset","expandable","isExpanded","alwaysShowLabel","toggleAriaLabel","className"]);const y=Boolean(d),[N,X]=n.exports.useState(y?E(l,[]):[]),[K,F]=n.exports.useState(w),[T,M]=n.exports.useState(u),C=n.exports.useRef(!1);n.exports.useEffect(()=>M(u),[u]);const _=n.exports.useRef();let h;const S=n.exports.useCallback(()=>{if(!V||!y||!(h instanceof HTMLElement))return;if(C.current){C.current=!1;return}const b=Math.ceil(h.scrollTop+f);window.requestAnimationFrame(()=>{let a=N;(!a[0]||a.includes(null))&&(a=E(l,[]),X(a));const I=a.map((c,m)=>({y:c?c.offsetTop:null,index:m})).filter(({y:c})=>c!==null).sort((c,m)=>m.y-c.y);for(const{y:c,index:m}of I)if(b>=c)return F(m)})},[N,y,h,f]);n.exports.useEffect(()=>{if(h=document.querySelector(d),h instanceof HTMLElement)return h.addEventListener("scroll",S),()=>h.removeEventListener("scroll",S)},[d,S]),n.exports.useEffect(()=>{S()},[]);let Q=0;const v=b=>y?n.exports.Children.map(b,a=>{if(a.type===O){const{onClick:I,isActive:c}=a.props,m=Q++,q=N[m];return n.exports.cloneElement(a,{onClick(B){C.current=!0;let P;q||(P=E(b,[]),X(P));const A=q||P[m];if(A){const H=document.querySelector(d);if(H instanceof HTMLElement){if(de(_.current)){_.current&&_.current.classList.remove(s.modifiers.expanded);let g=_.current&&_.current.parentElement;for(;g&&!g.classList.contains(oe.modifiers.sticky);)g=g.parentElement;M(!1),g&&(f+=g.scrollHeight)}H.scrollTo(0,A.offsetTop-f)}A.focus(),B.preventDefault(),F(m)}I&&I(B)},isActive:c||K===m,children:v(a.props.children)})}else{if(a.type===n.exports.Fragment)return v(a.props.children);if(a.type===L)return n.exports.cloneElement(a,{children:v(a.props.children)})}return a}):b;return t("nav",{...Object.assign({className:k(s.jumpLinks,i&&s.modifiers.center,o&&s.modifiers.vertical,Y(j,s),T&&s.modifiers.expanded,U),"aria-label":p,ref:_},W),children:x("div",{className:s.jumpLinksMain,children:[x("div",{className:k("pf-c-jump-links__header"),children:[j&&t("div",{className:s.jumpLinksToggle,children:x(Z,{variant:"plain",onClick:()=>M(!T),"aria-label":z,"aria-expanded":T,children:[t("span",{className:s.jumpLinksToggleIcon,children:t(ee,{})}),r&&x("span",{className:k(s.jumpLinksToggleText),children:[" ",r," "]})]})}),r&&$&&t("div",{className:k(s.jumpLinksLabel),children:r})]}),t("ul",{className:s.jumpLinksList,children:v(l)})]})})};G.displayName="JumpLinks";const ce=e=>{const{title:i,children:o,scrollId:l,...r}=e;return x("section",{...r,className:"kc-form-panel__panel",children:[t(ie,{headingLevel:"h1",size:"xl",className:"kc-form-panel__title",id:l,tabIndex:0,children:i}),o]})};const R=e=>e.replace(/\s+/g,"-"),xe=({sections:e,borders:i=!1,...o})=>{const{t:l}=ne("common"),r=n.exports.useMemo(()=>e.filter(({isHidden:p})=>!p),[e]);return x(ae,{hasGutter:!0,...o,children:[t(J,{span:8,children:r.map(({title:p,panel:d})=>{const w=R(p.toLowerCase());return t(n.exports.Fragment,{children:i?t(se,{scrollId:w,title:p,className:"kc-form-panel__panel",children:d}):t(ce,{scrollId:w,title:p,children:d})},p)})}),t(J,{span:4,children:t(te,{className:"kc-scroll-form--sticky",children:t(G,{isVertical:!0,scrollableSelector:`#${le}`,label:l("jumpToSection"),offset:100,children:r.map(({title:p})=>{const d=R(p.toLowerCase());return t(O,{href:`#${d}`,"data-testid":`jump-link-${d}`,children:p},p)})})})})]})};export{xe as S};
//# sourceMappingURL=ScrollForm.6573b3d3.js.map
